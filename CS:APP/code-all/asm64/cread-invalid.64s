cread:
	xorl	%eax, %eax
	testq	%rdi, %rdi
	cmovne	(%rdi), %eax
	ret
