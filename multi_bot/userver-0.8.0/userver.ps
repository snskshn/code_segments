%!PS-Adobe-3.0
%%Creator: groff version 1.20.1
%%CreationDate: Sun Jan 30 11:46:50 2011
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.20 1
%%Pages: 18
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.20 1
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
DEFS/BPhook known{DEFS begin BPhook end}if
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne
2 index/UniqueID ne
and
{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
mark
}bind def
/PEND{
cleartomark
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Times-Bold@0 ENC0/Times-Bold RE
/Times-Roman@0 ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E/F1 10.95/Times-Bold@0 SF -.219(NA)72 84 S(ME).219 E F0
(userv)108 96 Q(er \255 Micro-serv)-.15 E(er)-.15 E(\(A f)108 108 Q
(airly simple web serv)-.1 E(er designed for e)-.15 E(xperimentation\))
-.15 E F1(SYNOPSIS)72 124.8 Q/F2 10/Times-Bold@0 SF(user)108 136.8 Q -.1
(ve)-.1 G(r).1 E F0([)108 160.8 Q F2(-A)A F0(|)A F2(--accepts-only)A F0
(|)A F2(--close-after)A(-accept)-.37 E F0 9.15(][)C F2(-B)-9.15 E F0(|)A
F2(--block-f)A(or)-.25 E(-send_e)-.37 E -.1(ve)-.15 G(nts).1 E F0 9.15
(][)C F2(-C)-9.15 E F0(|)A F2(--caching-on)A F0 9.15(][)C F2(-D)-9.15 E
F0(|)A F2(--deb)A(ug-)-.2 E(mask)108 172.8 Q/F3 10/Times-Italic@0 SF
([0x]N)4.788 E F0 4.788(][)1.1 G F2(-E)-4.788 E F0(|)A F2(--send-e)A -.1
(ve)-.15 G(nts).1 E F0 4.788(][)C F2(-F)-4.788 E F0(|)A F2(--r)A
(eset-on-close)-.18 E F0 4.788(][)C F2(-G)-4.788 E F0(|)A F2
(--use-getpid)A F0 4.789(][)C F2(-H)-4.789 E F0(|)A F2(-h)A F0(|)A F2
(-?)A F0(|)A F2(--help)A F0 4.789(][)C F2(-I)-4.789 E F0(|)A F2(--r)A
(cv-sock-)-.18 E(lo)108 184.8 Q(w-wat)-.1 E F3(N)2.602 E F0 2.602(][)1.1
G F2(-J)-2.602 E F0(|)A F2(--snd-sock-lo)A(w-wat)-.1 E F3(N)2.601 E F0
2.601(][)1.1 G F2(-K)-2.601 E F0(|)A F2(--kdeb)A(ug-mask)-.2 E F3([0x]N)
2.601 E F0 2.601(][)1.1 G F2(-L)-2.601 E F0(|)A F2(--full-r)A(ead)-.18 E
F3(N)2.601 E F0 2.601(][)1.1 G F2(-M)-2.601 E F0(|)A F2(--multi-accept)A
F0(])A([)108 196.8 Q F2(-N)A F0(|)A F2(--send-loop)A F0 2.64(][)C F2(-O)
-2.64 E F0(|)A F2(--select-timeout)A F3(N)2.64 E F0 2.64(][)1.1 G F2(-P)
-2.64 E F0(|)A F2(--count-sigpipes)A F0 2.64(][)C F2(-Q)-2.64 E F0(|)A
F2(--ecb-hi-water)A F3(N)2.64 E F0 2.64(][)1.1 G F2(-R)-2.64 E F0(|)A F2
(--r)A(ead-sockb)-.18 E(uf-)-.2 E(size)108 208.8 Q F3(N)4.112 E F0 4.112
(][)1.1 G F2(-S)-4.112 E F0(|)A F2(--dont-intr)A(-select)-.37 E F0 4.112
(][)C F2(-T)-4.112 E F0(|)A F2(--port)A F3(N)4.111 E F0 4.111(][)1.1 G
F2(-U)-4.111 E F0(|)A F2(--auto-accept)A F0 4.111(][)C F2(-V)-4.111 E F0
(|)A F2(--use-send\214le)A F0 4.111(][)C F2(--auto-accept-aper)-4.111 E
(-)-.37 E(tur)108 220.8 Q(e)-.18 E F0 3.24(][)C F2(-W)-3.24 E F0(|)A F2
(--write-sockb)A(uf-size)-.2 E F3(N)3.24 E F0 3.24(][)1.1 G F2(-Y)-3.24
E F0(|)A F2(--send-io-e)A -.1(ve)-.15 G(nts).1 E F0 3.24(][)C F2(-Z)
-3.24 E F0(|)A F2(--content-type)A F0 3.24(][)C F2(-a)-3.24 E F0(|)A F2
(--async-mode)A F0 3.24(][)C F2(-b)-3.24 E F0(|)A F2(--ecb-)A -.2(bu)108
232.8 S(f-entries).2 E F3(N)2.627 E F0 2.627(][)1.1 G F2(-c)-2.627 E F0
(|)A F2(--max-conns)A F3(N)2.627 E F0 2.627(][)1.1 G F2(-d)-2.627 E F0
(|)A F2(--delay)A F3(N)2.627 E F0 2.627(][)1.1 G F2(-e)-2.627 E F0(|)A
F2(--extra-accepts)A F3(N)2.627 E F0 2.627(][)1.1 G F2(-f)-2.627 E F0(|)
A F2(--max-fds)A F3(N)2.627 E F0 2.627(][)1.1 G F2(-g)-2.627 E F0(|)A F2
(--accept-on-)A(close)108 244.8 Q F0 2.811(][)C F2(-i)-2.811 E F0(|)A F2
(--interacti)A -.1(ve)-.1 G F0 2.811(][).1 G F2(-j)-2.811 E F0(|)A F2
(--k)A(er)-.1 E(nel-inf)-.15 E(o)-.25 E F0 2.811(][)C F2(-k)-2.811 E F0
(|)A F2(--sigio-use-pr)A(ocmask)-.18 E F0 2.811(][)C F2(-l)-2.811 E F0
(|)A F2(--listenq)A F3(N)2.812 E F0 2.812(][)1.1 G F2(-m)-2.812 E F0(|)A
F2(--accept-count)A F3(N)2.812 E F0(])1.1 E([)108 256.8 Q F2(-n)A F0(|)A
F2(--no-accepts)A F0(|)A F2(--listen-only)A F0 14.415(][)C F2(-o)-14.415
E F0(|)A F2(--pr)A(ocess-fd-order)-.18 E F0([)14.415 E F2(up)A F0(|)A F2
(do)A(wn)-.1 E F0(|)A F2(writes-do)A(wn)-.1 E F0(|)A F2(writes-up)A F0
(|)A F2(lru)A F0(|)A F2(lif)A(o)-.25 E F0(|)A F2<8c66>A(o)-.25 E F0(])A
F2(])A F0([)108 268.8 Q F2(-p)A F0(|)A F2(--pr)A(ocs)-.18 E F3(N)3.526 E
F0 3.526(][)1.1 G F2(-q)-3.526 E F0(|)A F2(--ecb-lo)A(w-water)-.1 E F3
(N)3.527 E F0 3.527(][)1.1 G F2(-r)-3.527 E F0(|)A F2(--eager)A(-r)-.37
E(eads)-.18 E F0 3.527(][)C F2(-s)-3.527 E F0(|)A F2(--conns-in-ser)A
-.1(ve)-.1 G -.37(r-).1 G(loop).37 E F0 3.527(][)C F2(-t)-3.527 E F0(|)A
F2(--fr)A(ee-fd-thr)-.18 E(esh-)-.18 E(old)108 280.8 Q F3(N)6.63 E F0
6.63(][)1.1 G F2(-u)-6.63 E F0(|)A F2(--track-max-fd)A F3(N)6.63 E F0
6.63(][)1.1 G F2(-v)-6.63 E F0(|)A F2(--use-poll)A F0 6.63(][)C F2(-w)
-6.63 E F0(|)A F2(--eager)A(-writes)-.37 E F0 6.63(][)C F2(-x)-6.63 E F0
(|)A F2(--sigio-accepts)A F0 6.63(][)C F2(-y)-6.63 E F0(|)A F2(--memcpy)
A F0(])A([)108 292.8 Q F2(-z)A F0(|)A F2(--r)A(ejection-rate)-.18 E F0
4.193(][)C F2(-1)-4.193 E F0(|)A F2(--use-epoll)A F0 4.193(][)C F2(-2)
-4.193 E F0(|)A F2(--use-epoll2)A F0 4.193(][)C F2(-3)-4.193 E F0(|)A F2
(--use-epoll-ctlv)A F0 4.193(][)C F2(--cfg-\214lename)-4.193 E F3(path)
4.194 E F0 4.194(][).28 G F2(--close-)-4.194 E(after)108 304.8 Q
(-sock-init)-.37 E F0 5.325(][)C F2(--close-after)-5.325 E(-r)-.37 E
(ead)-.18 E F0 5.325(][)C F2(--close-after)-5.325 E(-parse)-.37 E F0
5.325(][)C F2(--send-polls-f)-5.325 E(or)-.25 E(-accepts)-.37 E F0 5.325
(][)C F2(--cache-table-size)-5.325 E F3(N)108 316.8 Q F0 3.485(][)1.1 G
F2(--cache-max-bytes)-3.485 E F3(N)3.485 E F0 3.486(][)1.1 G F2
(--cache-max-\214le-size)-3.486 E F3(N)3.486 E F0 3.486(][)1.1 G F2
(--cache-max-load-factor)-3.486 E F3(N)3.486 E F0 3.486(][)1.1 G F2
(--cache-lock-pages)-3.486 E F0(])A([)108 328.8 Q F2
(--cache-table-print)A F0 5.663(][)C F2(--cache-f)-5.663 E(or)-.25 E
(-spec)-.37 E F0 5.663(][)C F2(--cache-warm=path)-5.663 E F0 5.662(][)C
F2(--trace-summary)-5.662 E F0 5.662(][)C F2(--trace-summary-)-5.662 E
(only)108 340.8 Q F0 4.396(][)C F2(--use-tcp-cork)-4.396 E F0 4.396(][)C
F2(--use-madvise)-4.396 E F0 4.397(][)C F2(--use-accept-send)-4.397 E F0
4.397(][)C F2(--ip-addr)-4.397 E F3(N.N.N.N[:P])4.397 E F0 4.397(][).43
G F2(--use-aio-accept)-4.397 E F0(])A([)108 352.8 Q F2(--use-aio-r)A
(ead)-.18 E F0 2.608(][)C F2(--use-aio-write)-2.608 E F0 2.608(][)C F2
(--use-aio-close)-2.608 E F0 2.608(][)C F2(--use-sock)-2.608 E(et-aio)
-.1 E F0 2.608(][)C F2(--use-aio-wait)-2.608 E F0 2.608(][)C F2(--aio-r)
-2.608 E(ead-bef)-.18 E(or)-.25 E(e-)-.18 E(accept)108 364.8 Q F0 3.078
(][)C F2(--aio-r)-3.078 E(ead-bef)-.18 E(or)-.25 E(e-write)-.18 E F0
3.078(][)C F2(--aio-write-e)-3.078 E -.1(ve)-.15 G(nts-limit).1 E F3(N)
3.078 E F0 3.078(][)1.1 G F2(--aio-r)-3.078 E(ead-e)-.18 E -.1(ve)-.15 G
(nts-limit).1 E F3(N)3.079 E F0 3.079(][)1.1 G F2(--aio-accept-)-3.079 E
-2.3 -.15(ev e)108 376.8 T(nts-limit).15 E F3(N)3.663 E F0 3.663(][)1.1
G F2(--aio-accept-thold)-3.663 E F3(N)3.663 E F0 3.663(][)1.1 G F2
(--aio-complq-count)-3.663 E F3(N)3.662 E F0 3.662(][)1.1 G F2
(--pid-\214lename)-3.662 E F3(path)3.662 E F0 3.662(][).28 G F2
(--trace-\214lename)-3.662 E F3(path)108 388.8 Q F0 6.418(][).28 G F2
(--r)-6.418 E(ead-b)-.18 E(uffer)-.2 E(-size)-.37 E F3(N)6.418 E F0
6.419(][)1.1 G F2(--r)-6.419 E(eply-b)-.18 E(uffer)-.2 E(-size)-.37 E F3
(N)6.419 E F0 6.419(][)1.1 G F2(--dyn-b)-6.419 E(uffer)-.2 E(-size)-.37
E F3(N)6.419 E F0 6.419(][)1.1 G F2(--num-dyn-b)-6.419 E(uffers)-.2 E F3
(N)6.419 E F0(])1.1 E([)108 400.8 Q F2(--num-dyn-b)A(uffers-per)-.2 E
(-app)-.37 E F3(N)7.46 E F0 7.46(][)1.1 G F2(--num-dyn-b)-7.46 E
(uffers-per)-.2 E(-appser)-.37 E -.1(ve)-.1 G(r).1 E F3(N)7.46 E F0 7.46
(][)1.1 G F2(--dyn-lock-pages)-7.46 E F0 7.46(][)C F2(--dyn-)-7.46 E
(touch-pages)108 412.8 Q F0 5.698(][)C F2(--stats-inter)-5.698 E -.1(va)
-.1 G(l).1 E F3(N)5.698 E F0 5.698(][)1.1 G F2(--ignor)-5.698 E
(e-fd-setsize)-.18 E F0 5.699(][)C F2(--use-cpu-mask)-5.699 E F3([0x]N)
5.699 E F0 5.699(][)1.1 G F2(--idle-thr)-5.699 E(eshold)-.18 E F3(N)
5.699 E F0(])1.1 E([)108 424.8 Q F2(--doc-r)A(oot)-.18 E F3(path)14.66 E
F0 14.66(][).28 G F2(--hostname)-14.66 E F3(name)14.66 E F0 14.66(][).18
G F2(--app)-14.66 E F3(uri,type[,path[,count]])14.66 E F0 14.66(][).43 G
F2(--start-app-ser)-14.66 E -.1(ve)-.1 G(r).1 E F3(path[,count][=e)108
436.8 Q(xec_string])-.2 E F0 3.841(][).43 G F2(--app-r)-3.841 E
(eq-queue-size)-.18 E F3(N)3.841 E F0 3.842(][)1.1 G F2(--skip-header)
-3.842 E F0 3.842(][)C F2(--victim)-3.842 E F3(\214lepath)3.842 E F0
3.842(][).28 G F2(--victim-skip)-3.842 E F3(N])108 448.8 Q F0([)2.5 E F2
(--cache-miss-skip)A F3(N])2.5 E F0([)2.5 E F2(--call-stats)A F3(N])2.5
E F1(DESCRIPTION)72 477.6 Q F2(user)108 489.6 Q -.1(ve)-.1 G(r).1 E F0
.062(is a micro web serv)2.562 F .062(er that is meant to be used to e)
-.15 F .061(xperiment with the design and implementation of)-.15 F .422
(web serv)108 501.6 R 2.922(ers. In)-.15 F .422
(particular the original intention w)2.922 F .422(as to permit e)-.1 F
.422(xperimental comparisons of dif)-.15 F .423(ferent e)-.25 F -.15(ve)
-.25 G(nt).15 E 1.078
(dispatch mechanisms within the same application frame)108 513.6 R -.1
(wo)-.25 G 3.578(rk. F).1 F 1.078
(or this reason there are lots and lots and)-.15 F(lots of parameters.)
108 525.6 Q(The)5 E 2.5(ya)-.15 G(re mainly used to control the beha)
-2.5 E(viour of the serv)-.2 E(er)-.15 E(.)-.55 E 2.671
(Some of the design philosoph)108 549.6 R 5.171(ya)-.05 G 2.671(nd e)
-5.171 F 2.672(xperimental results obtained using this serv)-.15 F 2.672
(er are described in)-.15 F 4.194([Brecht-2001]. One)108 561.6 R 1.693(\
of note is that all data structures are allocated at initialization and\
 are not resized)4.194 F(\(gro)108 573.6 Q 2.864(wn\). This)-.25 F .364
(helps to ensure that e)2.864 F .365
(xperiments can be repeated because with dynamic sizing of data struc-)
-.15 F(tures dif)108 585.6 Q(ferent loads could result in dif)-.25 E
(ferent serv)-.25 E(er beha)-.15 E(viour)-.2 E(.)-.55 E .533(The userv)
108 609.6 R .533(er uses an e)-.15 F -.15(ve)-.25 G .532(nt dri).15 F
-.15(ve)-.25 G 3.032(na).15 G 3.032(rchitecture. The)-3.032 F .532
(idea is to run one e)3.032 F -.15(ve)-.25 G .532(nt dri).15 F -.15(ve)
-.25 G 3.032(ns).15 G(erv)-3.032 E .532(er per processor)-.15 F 5.532
(.I)-.55 G(f)-5.532 E .229
(using send\214le on Linux the \214le system b)108 621.6 R(uf)-.2 E .23
(fer cache will be shared across all serv)-.25 F .23(ers. F)-.15 F .23
(or high-performance)-.15 F .84(one w)108 633.6 R .84(ould w)-.1 F .84
(ant to use send\214le since it doesn')-.1 F 3.339(ti)-.18 G -1.9 -.4
(nv o)-3.339 H(lv).4 E 3.339(ee)-.15 G .839(xtra cop)-3.489 F .839
(ying from the \214le b)-.1 F(uf)-.2 E .839(fer cache to sock)-.25 F(et)
-.1 E -.2(bu)108 645.6 S -.25(ff).2 G(ers \(i.e., it').25 E 2.5(saz)-.55
G(ero cop)-2.5 E 2.5(yi)-.1 G(mplementation\).)-2.5 E F2(IMPOR)108 681.6
Q -.9(TA)-.4 G(NT).9 E(:)-.74 E F0 2.2(This micro web serv)4.7 F 2.2
(er is not meant to be a full-blo)-.15 F 2.2(wn web serv)-.25 F(er)-.15
E 7.2(.I)-.55 G 4.7(ti)-7.2 G 4.7(ss)-4.7 G(peci\214cally)-4.7 E .009
(designed for conducting performance e)108 693.6 R 2.509(xperiments. F)
-.15 F .008(or that reason design decisions were made in f)-.15 F -.2
(avo)-.1 G .008(ur of).2 F(producing repeatable e)108 705.6 Q
(xperiments.)-.15 E(userv)72 768 Q(er)-.15 E 146.04(-0.8.0 30)-.2 F
(January 2011)2.5 E(1)195.95 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E/F1 10.95/Times-Bold@0 SF(EXAMPLES)72 84 Q F0(userv)108
96 Q(er)-.15 E(This starts the)144 96 Q/F2 10/Times-Bold@0 SF(user)2.5 E
-.1(ve)-.1 G(r).1 E F0(with all of its def)2.5 E(ault options.)-.1 E
(userv)108 124.8 Q(er --max-conns 300 --accept-count 25)-.15 E .397
(This command causes the)144 136.8 R F2(user)2.897 E -.1(ve)-.1 G(r).1 E
F0(serv)2.897 E .397
(er to limit the number of simultaneous connections to 300.)-.15 F 1.115
(When an e)144 148.8 R -.15(ve)-.25 G 1.115(nt indicating that a ne).15
F 3.614(wc)-.25 G 1.114
(onnection is requested accept is called continuously until)-3.614 F
(either 25 ne)144 160.8 Q 2.5(wc)-.25 G
(onnections are accepted, or there are no more outstanding connections.)
-2.5 E(userv)108 189.6 Q(er --max-conns 300 --accept-count 0)-.15 E .397
(This command causes the)144 201.6 R F2(user)2.897 E -.1(ve)-.1 G(r).1 E
F0(serv)2.897 E .397
(er to limit the number of simultaneous connections to 300.)-.15 F .209
(When an e)144 213.6 R -.15(ve)-.25 G .209(nt indicating that a ne).15 F
2.709(wc)-.25 G .208
(onnection is requested accept is called repeatedly until there)-2.709 F
1.285(are no more outstanding connections.)144 225.6 R 1.286
(\(Note that --accept-count=0 means an in\214nite number of)6.286 F
(connections, i.e., no limits\).)144 237.6 Q(userv)108 266.4 Q
(er --ip-addr 192.168.10.105 --max-conns 300 --listenq 128)-.15 E(userv)
108 283.2 Q(er --ip-addr 192.168.20.105 --max-conns 300 --listenq 128)
-.15 E(This will start up tw)144 295.2 Q 2.5(oc)-.1 G
(opies of the userv)-2.5 E(er each accepting connections from a dif)-.15
E(ferent interf)-.25 E(ace.)-.1 E(userv)108 324 Q
(er --ip-addr 192.168.10.105:6801 --max-conns 300 --listenq 128)-.15 E
(userv)108 340.8 Q
(er --ip-addr 192.168.20.105:6802 --max-conns 300 --listenq 128)-.15 E
(Same as abo)144 352.8 Q .3 -.15(ve ex)-.15 H
(cept one listens on port 6801 and the other on port 6802.).15 E(userv)
108 381.6 Q(er --port 6800 --max-conns 300 --listenq 128)-.15 E .584
(This command causes)144 393.6 R F2(user)3.084 E -.1(ve)-.1 G(r).1 E F0
.583(to listen for incoming connection requests on port 6800.)3.084 F
.583(It uses a)5.583 F .551(listen queue of length 128 and it will perm\
it up to 300 simultaneous connections.)144 405.6 R .552(Once there are)
5.552 F(300 open connections it will not accept ne)144 417.6 Q 2.5(wc)
-.25 G(onnections until an e)-2.5 E(xisting connection is closed.)-.15 E
(userv)108 446.4 Q
(er --port 6800 --max-conns 300 --listenq 128 --use-poll)-.15 E
(This is the same as abo)144 458.4 Q .3 -.15(ve ex)-.15 H(cept using).15
E/F3 10/Times-Italic@0 SF(select\(\))2.84 E F0(calls to get e)2.56 E
-.15(ve)-.25 G(nts the).15 E F2(user)2.5 E -.1(ve)-.1 G(r).1 E F0
(will use)2.5 E F3(poll\(\).)3.75 E F0(userv)108 487.2 Q
(er --port 6800 --max-conns 300 --listenq 128 --use-epoll)-.15 E
(This is the same as abo)144 499.2 Q .3 -.15(ve ex)-.15 H(cept using).15
E F3(poll\(\))3.75 E F0(calls to get e)2.56 E -.15(ve)-.25 G(nts the).15
E F2(user)2.5 E -.1(ve)-.1 G(r).1 E F0(will use)2.5 E F3(epoll\(\).)2.69
E F0(userv)108 528 Q(er -C --cache-table-size=10000 --cache-max-bytes=2\
62144000 --cache-max-\214le-size=1048576)-.15 E .57
(Caching is turned on.)144 540 R .569(Caching parameters limit the numb\
er of \214les that are cached to 10000, the)5.57 F .937
(total number of bytes cached to 250 MB, and the size of the lar)144 552
R .938(gest \214le that can be cached to 1)-.18 F(MB.)144 564 Q F1
(OPTIONS)72 592.8 Q F0 1.426(The operation of)108 616.8 R F2(user)3.926
E -.1(ve)-.1 G(r).1 E F0 1.426
(can be controlled through a number of options.)3.926 F 1.425
(The tool supports both short)6.425 F .706
(\(one-character\) and long \(arbitrary-length\) option names.)108 628.8
R .706(Short options are pre\214x)5.706 F .706(ed with a single leading)
-.15 F .292(dash \(-\), long options with a double-dash \(--\).)108
640.8 R .292(Multiple short options can be grouped together \(e.g., `)
5.292 F(`)-.74 E F2(-rw)A F0 -.74('')C .132(is equi)108 652.8 R -.25(va)
-.25 G .132(lent to `).25 F(`)-.74 E F2 .132(-r -w)B F0 -.74('')C 2.633
(\)a).74 G .133(nd long options can be abbre)-2.633 F .133
(viated so long as the)-.25 F 2.633(yr)-.15 G .133(emain unique.)-2.633
F -.15(Pa)5.133 G .133(rameters to).15 F 1.198
(options can be speci\214ed either by follo)108 664.8 R 1.197
(wing the long option name with an equal sign and the parameter)-.25 F
-.25(va)108 676.8 S(lue \(e.g.,).25 E F2(--port=6800)2.5 E F0 2.5(\)o)C
2.5(rb)-2.5 G 2.5(ys)-2.5 G(eparating the option name and v)-2.5 E
(alue with whitespace \(e.g.,)-.25 E F2(--port 6800)2.5 E F0(\).)A F1
(OPTIONS \(GENERAL\))72 705.6 Q F0(userv)72 768 Q(er)-.15 E 146.04
(-0.8.0 30)-.2 F(January 2011)2.5 E(2)195.95 E 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E/F1 10/Times-Bold@0 SF(--idle-thr)108 84 Q(eshold=)-.18 E
F0(N)A .554(In a situation where the number of open connections has rea\
ched the limit \(see --max-conns\), the)144 96 R(userv)144 108 Q(er wil\
l close the least recently used connection if it has not seen acti)-.15
E(vity in the last N seconds.)-.25 E F1(--use-cpu-mask= [0x]N)108 136.8
Q F0 .417(On systems that support the)144 148.8 R/F2 10/Times-Italic@0
SF(sc)3.256 E(hed_setaf)-.15 E(\214nity\(\))-.18 E F0 .416
(system call, speci\214es a mask of schedulable CPUs)2.976 F .832
(for the userv)144 160.8 R .832(er process.)-.15 F .832(If pre\214x)
5.832 F .832(ed with '0x', the ar)-.15 F .832
(gument is interpreted as he)-.18 F .833(xadecimal; other)-.15 F(-)-.2 E
.274(wise it is interpreted as decimal.)144 172.8 R .273(The least sign\
i\214cant bit corresponds to the \214rst logical processor)5.273 F
(number on the system.)144 184.8 Q F1(-f N)108 213.6 Q(--max-fds=)108
230.4 Q F2(N).7 E F0 .324
(The maximum number of open \214le descriptors permitted.)144 242.4 R
2.824(Ic)5.324 G(an')-2.824 E 2.824(tr)-.18 G .324
(ecall if this is actually enforced)-2.824 F -.2(bu)144 254.4 S 4.003
(ti).2 G 4.003(ti)-4.003 G 4.003(su)-4.003 G 1.503
(sed to size internal data structures.)-4.003 F 1.502
(Note that there is a relationship between)6.502 F F1(--max-)4.002 E
(conns)144 266.4 Q F0(and)3.427 E F1(--max-fds.)3.427 E F0 .927
(If \214les are not being cached you could \(in the e)5.927 F .927
(xtreme case\) ha)-.15 F 1.227 -.15(ve o)-.2 H .928(ne fd).15 F .365
(used for the sock)144 278.4 R .364
(et connection and one fd used for the open \214le.)-.1 F .364
(So one needs to set)5.364 F F1(--max-fds)2.864 E F0(=)2.864 E .518
(more than 2 x)144 290.4 R F1(--max-conns.)3.018 E F0 .519
(Note: it should be greater because of some descriptors that are used)
5.519 F(up by stdin, out, err)144 302.4 Q 2.5(,a)-.4 G(nd a fe)-2.5 E
2.5(wo)-.25 G(pen \214les, etc.)-2.5 E F1(-m N)108 331.2 Q
(--accept-count=)108 348 Q F2(N).7 E F0 .965
(Call accept repeatedly until either)144 360 R(,)-.4 E F1(--max-conns)
3.465 E F0 .965(is reached,)3.465 F F1(accept\(\))3.465 E F0 .965
(returns EW)3.465 F(OULDBLOCK,)-.1 E(or)144 372 Q F2(N)3.347 E F0(ne)
3.747 E 2.647(wc)-.25 G .147(onnections ha)-2.647 F .447 -.15(ve b)-.2 H
.147(een accepted.).15 F .148(Note that the v)5.148 F .148(alue of)-.25
F F2(N)3.348 E F0 .148(can mak)3.748 F 2.648(eas)-.1 G .148
(ubstantial dif)-2.648 F(fer)-.25 E(-)-.2 E
(ence in the performance of e)144 384 Q -.15(ve)-.25 G
(nt dispatch mechanisms under hea).15 E(vy loads.)-.2 E
(See [Brecht-2001].)5 E F1(-T N)108 412.8 Q(--port=)108 429.6 Q F2(N).7
E F0(Specify the port number that the serv)144 441.6 Q
(er should listen for connections on.)-.15 E F1(-l N)108 470.4 Q
(--listenq=)108 487.2 Q F2(N).7 E F0 .432
(Specify the length of the application')144 499.2 R 2.932(sl)-.55 G .432
(isten queue.)-2.932 F .431(This speci\214es ho)5.431 F 2.931(wm)-.25 G
(an)-2.931 E 2.931(yc)-.15 G .431(onnection requests)-2.931 F .082
(are allo)144 511.2 R .083
(wed to be queued in the application before the k)-.25 F .083
(ernel rejects incoming connection requests.)-.1 F -1.2(WA)144 523.2 S
.805(RNING: on all v)1.2 F .805(ersion of Linux I')-.15 F 1.104 -.15
(ve e)-.5 H -.15(ve)-.1 G 3.304(rs).15 G .804
(een \(up to and including se)-3.304 F -.15(ve)-.25 G .804
(ral 2.6.5\) the k).15 F(ernel)-.1 E .829(silently con)144 535.2 R -.15
(ve)-.4 G .829(rts an).15 F 3.329(yv)-.15 G .829
(alues of N that are greater than 128 to 128.)-3.579 F -.15(Fo)5.83 G
3.33(rd).15 G .83(etails see sys_listen and)-3.33 F(the v)144 547.2 Q
(alue of SOMAXCONNS.)-.25 E F1(-L)108 576 Q F0([1 | 2])A F1(--full-r)108
592.8 Q(ead=)-.18 E F0([1 | 2])A(Af)144 604.8 Q .583(fects ho)-.25 F
3.083(wc)-.25 G .583(alling read w)-3.083 F 3.083(orks. If)-.1 F .583
(this is set to 1 the serv)3.083 F .582
(er will loop on reading the sock)-.15 F .582(et until)-.1 F .733
(the read f)144 616.8 R 3.233(ails. This)-.1 F .734(mainly happens eith\
er because there is nothing left to read because the other)3.233 F
(end has been closed or until it w)144 628.8 Q(ould ha)-.1 E .3 -.15
(ve b)-.2 H(lock).15 E(ed \(EW)-.1 E(OULDBLOCK\).)-.1 E .218(If a v)144
652.8 R .217(alue of 1 is used the loop on reads will only occur on cal\
ls to read that occur as a result of an)-.25 F -2.15 -.25(ev e)144 664.8
T .502(nt indicating that the \214rst read should be done.).25 F .502
(If a v)5.502 F .503(alue of 2 is used the loop on reads occur)-.25 F
.325(as abo)144 676.8 R .625 -.15(ve b)-.15 H .325(ut if)-.05 F F1
(--eager)2.825 E(-r)-.37 E(eads)-.18 E F0 .325(is also set the serv)
2.825 F .325(er will loop on eager reads \(i.e., those that will be)-.15
F(done immediately follo)144 688.8 Q
(wing a the acceptance and setup of a connection\).)-.25 E F1(-H)108
717.6 Q F0(userv)72 768 Q(er)-.15 E 146.04(-0.8.0 30)-.2 F(January 2011)
2.5 E(3)195.95 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E/F1 10/Times-Bold@0 SF(-h)108 84 Q(-?)108 100.8 Q(--help)
108 117.6 Q F0(Print out the usage message.)144 117.6 Q F1(-M N)108
146.4 Q(--multi-accept=)108 163.2 Q/F2 10/Times-Italic@0 SF(N).7 E F0
.105(Use the)144 175.2 R F2(multiaccept\(\))2.985 E F0 .105
(system call to perform accepts.)2.665 F(NO)5.106 E .106(TE: this w)-.4
F .106(as a system call that we added)-.1 F .47(to and e)144 187.2 R .47
(xperimented with in Linux.)-.15 F .47
(The idea here is that since we are repeatedly calling)5.47 F F2
(accept\(\))3.3 E F0 .023(to accept a b)144 199.2 R .023
(unch of connections, wh)-.2 F 2.524(yn)-.05 G .024(ot pro)-2.524 F .024
(vide a system call that allo)-.15 F .024(ws up to a maximum of)-.25 F
F2(N)3.224 E F0(connections to be accepted in one system call.)144 211.2
Q F1(-S)108 240 Q(--dont-intr)108 256.8 Q(-select)-.37 E F0 1.847
(Disable asynchronous e)144 268.8 R -.15(ve)-.25 G 1.847
(nt noti\214cation when calling).15 F F2(select\(\).)4.687 E F0 4.347
(Ib)6.847 G(elie)-4.347 E 2.146 -.15(ve t)-.25 H 1.846(hat this w).15 F
1.846(as initially)-.1 F(meant to w)144 280.8 Q
(ork for SIGIO and for SEND.)-.1 E F1(-d N)108 309.6 Q(--delay=)108
326.4 Q F2(N).7 E F0 .824(The idea w)144 338.4 R .824
(as to introduce a delay that might simulate w)-.1 F .824
(ork being done by the serv)-.1 F .825(er \(lik)-.15 F 3.325(es)-.1 G
(ome)-3.325 E .176(computation and/or a dynamic request\).)144 350.4 R
2.675(Ic)5.176 G(ouldn')-2.675 E 2.675<748c>-.18 G .175
(nd a good method for delaying for a speci\214ed)-2.675 F
(amount of time \(note that it should be small\) with a enough accurac)
144 362.4 Q -.65(y.)-.15 G F1(-e N)108 391.2 Q(--extra-accepts=)108 408
Q F2(N).7 E F0 .357(While in the middle of processing e)144 420 R -.15
(ve)-.25 G .357(nts that ha).15 F .657 -.15(ve b)-.2 H .357
(een obtained \(e.g., from select, or some other).15 F .742
(mechanism\) periodically poll for ne)144 432 R 3.242(wc)-.25 G .742
(onnection requests.)-3.242 F .741(In this case e)5.742 F -.15(ve)-.25 G
.741(ry time).15 F F2(N)3.941 E F0(descriptors)4.341 E 1.012
(are processed we check for ne)144 444 R 3.512(wc)-.25 G 1.012
(onnection requests.)-3.512 F 1.012(Note that this open w)6.012 F 1.012
(as ne)-.1 F -.15(ve)-.25 G 3.512(ru).15 G 1.012(sed ef)-3.512 F(fec-)
-.25 E(ti)144 456 Q -.15(ve)-.25 G(ly).15 E 5(.I)-.65 G
(found it easier to use and tune the)-2.5 E F1(--accept-count)2.5 E F0
(option.)2.5 E F1(-g)108 484.8 Q(--accept-on-close)108 501.6 Q F0 .471
(When a connection is closed check to see if there are an)144 513.6 R
2.971(yo)-.15 G .471(utstanding connection requests.)-2.971 F(Note:)
5.471 E .714
(that this only occurs if the maximum number of connections w)144 525.6
R .714(as reached and no)-.1 F 3.214(wac)-.25 G .714(losed con-)-3.214 F
(nection will reduce the number of connections belo)144 537.6 Q(w)-.25 E
F1(--max-conns.)2.5 E(-o [up|do)108 566.4 Q(wn|writes-do)-.1 E
(wn|writes-up|lru|lif)-.1 E(o|\214f)-.25 E(o])-.25 E(--pr)108 583.2 Q
(ocess-fd-order)-.18 E F0([up|do)144 595.2 Q(wn|writes-do)-.25 E
(wn|writes-up|lru|lifo|\214fo])-.25 E 1.029
(Change the order in which \214le descriptors are handled.)144 619.2 R
(The)6.028 E 3.528(ya)-.15 G 1.028(re numbered from 0 to)-3.528 F F2(N)
4.228 E F0 1.028(so the)4.628 F(options are:)144 631.2 Q(up:)144 648 Q
(from 0 to N)180 648 Q(do)144 664.8 Q(wn:)-.25 E(from N to 0)180 664.8 Q
(writes-do)144 681.6 Q(wn:)-.25 E
(to writes from N to 0, then reads from N to 0)180 693.6 Q(userv)72 768
Q(er)-.15 E 146.04(-0.8.0 30)-.2 F(January 2011)2.5 E(4)195.95 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E(writes-up:)144 84 Q
(to writes from 0 to N, then reads from 0 to N)180 96 Q(lru:)144 112.8 Q
(least recently descriptor touched \214rst)180 112.8 Q(lifo:)144 129.6 Q
(\214rst descriptor \(connection\) added to the set \214rst)180 129.6 Q
(\214lo:)144 146.4 Q
(\214rst descriptor \(connection\) added to the set last)180 146.4 Q/F1
10/Times-Bold@0 SF(-p N)108 175.2 Q(--pr)108 192 Q(ocs=)-.18 E/F2 10
/Times-Italic@0 SF(N).7 E F0(Start)144 204 Q F2(N)3.717 E F0 .517
(copies of the serv)4.117 F(er)-.15 E 5.517(.N)-.55 G .517
(ote that this option hasn')-5.517 F 3.017(tb)-.18 G .518
(een tested in a long time and is almost)-3.017 F
(certain to cause problems.)144 216 Q F1(-s)108 244.8 Q(--conns-in-ser)
108 261.6 Q -.1(ve)-.1 G -.37(r-).1 G(loop).37 E F0
(Add an additional poll for ne)144 273.6 Q 2.5(wc)-.25 G
(onnections each time through the serv)-2.5 E(er loop.)-.15 E F1(-t N)
108 302.4 Q(--fr)108 319.2 Q(ee-fd-thr)-.18 E(eshold=)-.18 E F2(N).7 E
F0 .373(When the maximum number of connections)144 331.2 R F1
(--max-conns)2.872 E F0 .372(is reached the serv)2.872 F .372
(er stops checking for)-.15 F 2.233(incoming connections.)144 343.2 R
2.233(This options controls when the serv)7.233 F 2.234
(er starts checking ag)-.15 F 4.734(ain. It)-.05 F(starts)4.734 E
(checking ag)144 355.2 Q(ain after)-.05 E F2(N)3.2 E F0
(connections can be accommodated before reaching)3.6 E F1(--max-conns.)
2.5 E(-u)108 384 Q(--track-max-fd)108 400.8 Q F0 .129(The serv)144 412.8
R .129(er currently k)-.15 F .129(eeps track of the maximum fd e)-.1 F
-.15(ve)-.25 G 2.628(ru).15 G .128
(sed and uses that as a parameter to calls)-2.628 F(lik)144 424.8 Q
3.025(es)-.1 G 3.025(elect. This)-3.025 F .525
(option implements code to dynamically k)3.025 F .525
(eep track of the maximum \214le descrip-)-.1 F .105
(tor currently used.)144 436.8 R .105
(Note that this requires a bit of e)5.105 F .105(xtra processing b)-.15
F .105(ut it')-.2 F 2.605(sp)-.55 G .105(robably not noticeable,)-2.605
F .028(especially if it can sa)144 448.8 R .328 -.15(ve ex)-.2 H .029
(tra o).15 F -.15(ve)-.15 G .029(rhead on cop).15 F .029
(ying fdsets and processing time in e)-.1 F -.15(ve)-.25 G .029
(nt mechanisms).15 F(\(e.g., select\).)144 460.8 Q F1(-r)108 489.6 Q
(--eager)108 506.4 Q(-r)-.37 E(eads)-.18 E F0 .202
(try to eagerly read from ne)144 518.4 R 2.702(wc)-.25 G 2.702
(onnections. Call)-2.702 F F2 -.37(re)2.702 G(ad\(\)).37 E F0 .202
(to try to read the request as soon as the ne)2.762 F(w)-.25 E .594
(connection is accepted.)144 530.4 R .594(In this mode the serv)5.594 F
.595(er optimistically assumes that data will be a)-.15 F -.25(va)-.2 G
(ilable).25 E .535(for reading when a connection is made on a ne)144
542.4 R 3.035(ws)-.25 G(ock)-3.035 E .535(et \(or v)-.1 F .534
(ery shortly after\).)-.15 F .534(If the assumption)5.534 F .489
(is incorrect, the read call simply returns with the error EW)144 554.4
R 2.99(OULDBLOCK. Later)-.1 F .49(the e)2.99 F -.15(ve)-.25 G .49
(nt noti\214-).15 F(cation mechanism will indicate when the sock)144
566.4 Q(et is readable.)-.1 E F1(-w)108 595.2 Q(--eager)108 612 Q
(-writes)-.37 E F0 1.107(try to eagerly perform writes to ne)144 624 R
3.606(wc)-.25 G 1.106(onnections when the response is a)-3.606 F -.25
(va)-.2 G 3.606(ilable. Both).25 F F1(--eager)3.606 E(-)-.37 E -.18(re)
144 636 S(ad).18 E F0(and)3.203 E F1(--eager)3.203 E(-write)-.37 E F0
.703(also try to tak)3.203 F 3.203(ea)-.1 G(dv)-3.203 E .703
(antage of an)-.25 F 3.203(yp)-.15 G .704(otential locality ef)-3.203 F
.704(fects by w)-.25 F .704(orking on)-.1 F
(the most recently used \214le descriptor and sock)144 648 Q(et.)-.1 E
F1(-y)108 676.8 Q(--memcpy)108 693.6 Q F0 .907(Use the)144 705.6 R F1
(memcpy)3.407 E F0 .907(library call to cop)3.407 F 3.407(yi)-.1 G .907
(nterest sets before calling select.)-3.407 F .907
(This is done rather than)5.907 F .947(doing a straight assignment.)144
717.6 R .947(This e)5.947 F .948
(xists because the size of the interest set could be lar)-.15 F .948
(ge and I)-.18 F(don')144 729.6 Q 4.488(tk)-.18 G(no)-4.488 E 4.488(wh)
-.25 G 2.487 -.25(ow c)-4.488 H(le).25 E -.15(ve)-.25 G 4.487(rac).15 G
1.987(ompiler w)-4.487 F 1.987(ould be about assigning lar)-.1 F 1.987
(ge data structures.)-.18 F(NO)6.987 E 1.987(TE: it)-.4 F(userv)72 768 Q
(er)-.15 E 146.04(-0.8.0 30)-.2 F(January 2011)2.5 E(5)195.95 E 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E .999(currently copies the side of an fd_set.)144 84 R
.999(This should be changed to only cop)5.999 F 3.5(yt)-.1 G 1
(he amount of data)-3.5 F(required for the maximum fd of interest.)144
96 Q/F1 10/Times-Bold@0 SF(-z)108 124.8 Q(--r)108 141.6 Q(ejection-rate)
-.18 E F0 .453(Use the)144 153.6 R F1 -.18(re)2.953 G(jection-rate).18 E
F0 .453(is not yet implemented.)2.953 F .453(The ideas w)5.453 F .452
(ould be to specify the frequenc)-.1 F 2.952(yw)-.15 G(ith)-2.952 E
(which ne)144 165.6 Q 2.5(wc)-.25 G
(onnection requests should be rejected.)-2.5 E F1(-V)108 194.4 Q
(--use-send\214le)108 211.2 Q F0 .582(Use the)144 223.2 R F1
(send\214le\(\))3.082 E F0 .582(call on systems that ha)3.082 F .882
-.15(ve i)-.2 H 3.082(ta).15 G -.25(va)-3.282 G 3.082(ilable. This).25 F
.583(is only used for uncached \214les and)3.082 F(dynamic content.)144
235.2 Q F1(--use-madvise)108 264 Q F0(Use)144 276 Q/F2 10/Times-Italic@0
SF(madvise\(\))3.005 E F0 .125(calls to pro)2.685 F .125(vide the k)-.15
F .124
(ernel with hints that \214les are being read sequentially and when)-.1
F(the)144 288 Q 2.5(ys)-.15 G(hould no longer be cached.)-2.5 E F1(-v)
108 316.8 Q(--use-poll)108 333.6 Q F0(Use)144 345.6 Q F2(poll\(\))3.75 E
F0(instead of)2.56 E F2(select\(\))2.84 E F0(to get e)2.56 E -.15(ve)
-.25 G(nts.).15 E F1(-1)108 374.4 Q(--use-epoll)108 391.2 Q F0(Use)144
403.2 Q F2(epoll\(\))2.69 E F0(instead of)2.56 E F2(select\(\))2.84 E F0
(to get e)2.56 E -.15(ve)-.25 G(nts.).15 E F1(-2)108 432 Q(--use-epoll2)
108 448.8 Q F0(Use)144 460.8 Q F2(epoll\(\))3.127 E F0 .437(instead of)
2.997 F F2(select\(\))3.277 E F0 .437(to get e)2.997 F -.15(ve)-.25 G
.437(nts, b).15 F .438
(ut attempt some optimizations to reduce the number)-.2 F(of)144 472.8 Q
F2(epoll_ctl\(\))3.658 E F0 3.468(calls. W)3.528 F 3.468(ef)-.8 G .968
(ound the number of epoll_ctl calls to be e)-3.468 F(xcessi)-.15 E 1.267
-.15(ve s)-.25 H 3.467(ot).15 G .967(his options calls)-3.467 F 1.227
(epoll_ctl when a ne)144 484.8 R 3.727(wc)-.25 G 1.228
(onnection is added and sets the interest to be READ and WRITE.)-3.727 F
(This)6.228 E .377(means that epoll_w)144 496.8 R .377(ait may return e)
-.1 F -.15(ve)-.25 G .376(nts that we aren').15 F 2.876(ti)-.18 G .376
(nterested in \(e.g., that a sock)-2.876 F .376(et is writable)-.1 F
-2.15 -.25(ev e)144 508.8 T 3.086(nt).25 G .586(hough we are b)-3.086 F
.586(usy reading\) b)-.2 F .587(ut we are e)-.2 F .587
(xploring the tradeof)-.15 F .587(fs between the tw)-.25 F 3.087(oa)-.1
G(pproaches)-3.087 E(\(--use-epoll and --use-epoll2\).)144 520.8 Q F1
(-3)108 549.6 Q(--use-epoll-ctlv)108 566.4 Q F0(Use)144 578.4 Q F2
(epoll_ctlv\(\))2.756 E F0 .066(to update e)2.626 F -.15(ve)-.25 G 2.566
(nts. This).15 F .066(requires the addition of a ne)2.566 F 2.566(ws)
-.25 G .066(ystem call, epoll_ctlv)-2.566 F 5.066(.T)-.65 G(his)-5.066 E
.501(call permits one to collect a b)144 590.4 R .502
(unch of epoll_ctl calls and change interest in a b)-.2 F .502
(unch of fds at once)-.2 F(instead of ha)144 602.4 Q
(ving to do one system call \(epoll_ctl\) per change.)-.2 E F1
(--cfg-\214lename path)108 631.2 Q F0 .814
(Read additional options from a \214le.)144 643.2 R .814
(The format of the \214le is the same as the command line, i.e.)5.814 F
.33(long and/or short options separated by whitespace \(spaces, tabs, l\
inefeeds\).)144 655.2 R .33(Lines with a '#' char)5.33 F(-)-.2 E .623
(acter in the \214rst column are treated as comments and are ignored.)
144 667.2 R .623(Con\214g \214les can use)5.623 F F1(--cfg-\214le-)3.123
E(name)144 679.2 Q F0(to nest other con\214g \214les.)2.5 E(userv)72 768
Q(er)-.15 E 146.04(-0.8.0 30)-.2 F(January 2011)2.5 E(6)195.95 E 0 Cg EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E/F1 10/Times-Bold@0 SF(--ip-addr N.N.N.N)108 84 Q
(--ip-addr N.N.N.N:P)108 100.8 Q F0 .376
(Specify an IP address to listen for ne)144 112.8 R 2.876(wc)-.25 G .376
(onnections on.)-2.876 F .377(Optionally tak)5.377 F .377
(es a port number P as well.)-.1 F .572
(The special option --ip-addr 0.0.0.0 speci\214es that the userv)144
124.8 R .571(er should listen on an)-.15 F 3.071(ya)-.15 G .571
(ddress \(this is)-3.071 F(the def)144 136.8 Q(ault\).)-.1 E F1
(--pid-\214lename path)108 165.6 Q F0 .088
(Sets the name of the \214le where the userv)144 177.6 R .088
(er stores its process ID number while running.)-.15 F .089(Specify an)
5.089 F .582(empty string \(""\) to suppress pid \214le generation.)144
189.6 R .582(If this option is not speci\214ed, a def)5.582 F .581
(ault v)-.1 F .581(alue of)-.25 F("userv)144 201.6 Q(er)-.15 E
(.pid" is used.)-.55 E F1(--r)108 230.4 Q(ead-b)-.18 E(uffer)-.2 E
(-size N)-.37 E F0
(The number of bytes to allocate at initialization time for)144 242.4 Q
/F2 10/Times-Italic@0 SF -.37(re)2.5 G(ad\(\)).37 E F0
(operations on each connection.)2.56 E F1(--r)108 271.2 Q(eply-b)-.18 E
(uffer)-.2 E(-size N)-.37 E F0 .026
(The number of bytes to allocate at initialization time for)144 283.2 R
F2(write\(\))2.866 E F0 .026(operations on each connection \(for)2.586 F
(static requests only\).)144 295.2 Q F1(--stats-inter)108 336 Q -.1(va)
-.1 G 2.5(lN).1 G F0 1.088
(Print out some simple stats about related to serv)144 348 R 1.088
(er performance at a re)-.15 F 1.087(gularly speci\214ed interv)-.15 F
(al.)-.25 E .943(The interv)144 360 R .943
(al is speci\214ed in seconds.)-.25 F(NO)5.943 E .943
(TE: this options o)-.4 F -.15(ve)-.15 G .943
(rrides the --select-timeout option in).15 F
(order to be able to print out stats according to the selected interv)
144 372 Q(al.)-.25 E F1(--ignor)108 400.8 Q(e-fd-setsize)-.18 E F0 .25
(If permitted this causes the userv)144 412.8 R .249
(er to ignore limits placed on the number of open connections and)-.15 F
1.976(the maximum v)144 424.8 R 1.977(alues of an open \214le descripto\
rs that are required when using select \(i.e., the)-.25 F 2.968
(FD_SETSIZE\). This)144 436.8 R .468(option does not w)2.968 F .468
(ork if --track-max-fd is de\214ned or if the e)-.1 F -.15(ve)-.25 G
.467(nt mechanism).15 F(being used is select or SEND.)144 448.8 Q F1(-Z)
108 477.6 Q(--content-type)108 494.4 Q F0 .108
(Use heuristics to guess what Content-T)144 506.4 R .109
(ype header to return, based on the uri from the request.)-.8 F -.15(Fo)
5.109 G(r).15 E -.15(ex)144 518.4 S
(ample, if the uri ended in ".gif", the userv).15 E(er w)-.15 E
(ould assume a content type of "image/gif".)-.1 E F1(--doc-r)108 547.2 Q
(oot path)-.18 E F0 .291
(Set the directory of where to \214nd the documents being serv)144 559.2
R .29(er to the speci\214ed directory)-.15 F 5.29(.W)-.65 G .29(hen the)
-5.29 F
(document root is speci\214ed all requests are assumed to be relati)144
571.2 Q .3 -.15(ve t)-.25 H 2.5(ot).15 G(he speci\214ed directory)-2.5 E
(.)-.65 E F1(--hostname name)108 600 Q F0 .007
(Set the name of the machine that the userv)144 612 R .008
(er is running on.)-.15 F .008(By def)5.008 F .008(ault, userv)-.1 F
.008(er uses)-.15 F F2 -.1(ge)2.508 G(thostname\(\)).1 E F0 .078
(to determine the hostname.)144 624 R .077
(The hostname is only used to set the SER)5.077 F(VER_N)-.8 E .077
(AME CGI parameter)-.35 F(when ful\214lling F)144 636 Q
(astCGI requests.)-.15 E F1(--skip-header)108 676.8 Q F0 1.102
(Assume that all \214les being serv)144 688.8 R 1.102
(ed contain a header in the actual \214le so there is no need for the)
-.15 F(serv)144 700.8 Q .639(er to generate and send a header)-.15 F
5.639(.U)-.55 G .639(seful for looking at the impact of things lik)
-5.639 F 3.138(ec)-.1 G(ork/uncork)-3.138 E .011
(when used with send\214le \(i.e., if the header is in the \214le it')
144 712.8 R 2.511(so)-.55 G .011
(ne send\214le system call instead of cork,)-2.511 F
(write, send\214le, uncork\).)144 724.8 Q(userv)72 768 Q(er)-.15 E
146.04(-0.8.0 30)-.2 F(January 2011)2.5 E(7)195.95 E 0 Cg EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E/F1 10/Times-Bold@0 SF(--call-stats N)108 84 Q F0 -.35
(Tr)144 96 S .852(ack statistics for up to N calls/requests.).35 F .852
(This is designed to read the Client-Id: header that we)5.852 F(ha)144
108 Q 1.319 -.15(ve h)-.2 H 1.019(ttperf send in order to correlate wha\
t is happening with requests from dif).15 F 1.02(ferent clients on)-.25
F(dif)144 120 Q(ferent serv)-.25 E(ers.)-.15 E/F2 10.95/Times-Bold@0 SF
(OPTIONS \(FOR CONTR)72 148.8 Q(OLLING SOCKETS\))-.329 E F1(-F)108 177.6
Q(--r)108 194.4 Q(eset-on-close)-.18 E F0(Calls)144 206.4 Q/F3 10
/Times-Italic@0 SF(shutdown\(\))2.84 E F0(instead of)2.56 E F3
(close\(\).)2.7 E F0 -1.2(WA)144 218.4 S
(RNING do not use this for a real system!!!)1.2 E F1(-I N)108 247.2 Q
(--r)108 264 Q(cv-sock-lo)-.18 E(w-wat=)-.1 E F3(N).7 E F0
(Sets the sock)144 276 Q(ets recei)-.1 E .3 -.15(ve b)-.25 H(uf)-.05 E
(fer')-.25 E 2.5(sl)-.55 G .5 -.25(ow w)-2.5 H(ater mark to).15 E F3(N.)
3.2 E F0(Not a)5 E -.25(va)-.2 G(ilable on all systems.).25 E F1(-J)108
304.8 Q F0(N)A F1(--snd-sock-lo)108 321.6 Q(w-wat=)-.1 E F0(N)A
(Sets the sock)144 333.6 Q(ets send b)-.1 E(uf)-.2 E(fer')-.25 E 2.5(sl)
-.55 G .5 -.25(ow w)-2.5 H(ater mark to).15 E F3(N.)3.2 E F0(Not a)5 E
-.25(va)-.2 G(ilable on all systems.).25 E F1(-O N)108 362.4 Q
(--select-timeout=)108 379.2 Q F3(N).7 E F0
(Set the timeout option to the)144 391.2 Q F3(select\(\))2.84 E F0
(system call.)2.56 E F1(-R N)108 420 Q(--r)108 436.8 Q(ead-sockb)-.18 E
(uf-size=)-.2 E F3(N).7 E F1(-W N)108 453.6 Q(--write-sockb)108 470.4 Q
(uf-size=)-.2 E F3(N).7 E F0 .657
(Set the size of the read or write sock)144 482.4 R .657(et b)-.1 F(uf)
-.2 E 3.157(fers. Note)-.25 F .657
(that increasing these may help signi\214cantly)3.157 F(for lar)144
494.4 Q(ge transfers.)-.18 E F1(--use-tcp-cork)108 523.2 Q F0 .91
(Cork the TCP queue when writing the header for the reply)144 535.2 R
5.91(.C)-.65 G .91(urrently only implemented for the)-5.91 F
(send\214le portion of the code.)144 547.2 Q F1(-c N)108 588 Q
(--max-conns=)108 604.8 Q F3(N).7 E F0 .521
(The maximum number of simultaneous connections the serv)144 616.8 R
.521(er will handle.)-.15 F .52(Note that this is typi-)5.521 F 1.423
(cally limited by the number of open \214le descriptors permitted.)144
628.8 R 1.424(Once the maximum number of)6.424 F .148(open connections \
is reached incoming connection requests are refused until an e)144 640.8
R .148(xisting connection)-.15 F .096(is close.)144 652.8 R .097
(Note that idle connections can be timed out e)5.096 F -.15(ve)-.25 G
.097(ntually \(b).15 F .097(ut this hasn')-.2 F 2.597(tb)-.18 G .097
(een tested lately\).)-2.597 F(This is also used to size a number of in\
ternal data structures that are allocated at initialization time.)144
664.8 Q F2(OPTIONS \(FOR SER)72 693.6 Q(VING D)-.602 E(YN)-.438 E
(AMIC CONTENT\))-.219 E F0(userv)72 768 Q(er)-.15 E 146.04(-0.8.0 30)-.2
F(January 2011)2.5 E(8)195.95 E 0 Cg EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E/F1 10/Times-Bold@0 SF(--app uri,type[,path[,count]])108
84 Q F0 2.08(De\214ne an application.)144 96 R 2.079
(Applications are used to generate dynamic content.)7.079 F 2.079
(An application is)7.079 F .461
(uniquely identi\214ed by the uri string, which is case sensiti)144 108
R -.15(ve)-.25 G 5.461(.T).15 G .462(he type string is not case sensiti)
-5.461 F -.15(ve)-.25 G(,).15 E(and can be one of)144 120 Q -.15(Fa)144
136.8 S(stCGI:).15 E(General-purpose F)180 148.8 Q(astCGI application.)
-.15 E .166(The path ar)180 172.8 R .166
(gument speci\214es the address of a listening F)-.18 F .165
(astCGI application, in the form of)-.15 F .342
(either an INET domain sock)180 184.8 R .342
(et address \(addr:port\) or a UNIX domain sock)-.1 F .343
(et address \(\214le)-.1 F 2.76(path\). The)180 196.8 R .26
(optional count ar)2.76 F .26
(gument can be speci\214ed with INET domain sock)-.18 F .26
(et addresses)-.1 F .322(to specify that count consecuti)180 208.8 R
.622 -.15(ve p)-.25 H .322
(orts, starting with port, are all listening F).15 F .323(astCGI appli-)
-.15 F 2.5(cations. It)180 220.8 R
(is a shortcut to specifying them indi)2.5 E
(vidually using multiple --app ar)-.25 E(guments.)-.18 E(SPECweb99:)144
237.6 Q 1.411(SPECweb99 serv)180 249.6 R 1.411(er application \(only a)
-.15 F -.25(va)-.2 G 1.411(ilable if support is compiled in\).).25 F
1.41(The userv)6.411 F(er)-.15 E 3.222(will treat requests of the speci\
\214ed uri as SPECweb99 requests, and will generate)180 261.6 R
(responses on the \215y)180 273.6 Q(.)-.65 E(The path and count ar)180
297.6 Q(guments are not applicable and must be omitted.)-.18 E F1
(--start-app-ser)108 326.4 Q -.1(ve)-.1 G 2.5(rp).1 G
(ath[,count][=exec_string])-2.5 E F0 -.7(Te)144 338.4 S 1.02
(ll the userv).7 F 1.019
(er to start up the speci\214ed application serv)-.15 F 3.519
(er\(s\). \(By)-.15 F(def)3.519 E 1.019(ault, userv)-.1 F 1.019
(er assumes that)-.15 F(the)144 350.4 Q 3.396(ya)-.15 G .897(re already\
 started through some other means, e.g. manually or through a script\).)
-3.396 F .897(The path)5.897 F .534(and optional count ar)144 362.4 R
.534(guments are as described for the)-.18 F F1(--app)3.033 E F0 .533
(option, abo)3.033 F -.15(ve)-.15 G 5.533(.I).15 G 3.033(ti)-5.533 G
3.033(sa)-3.033 G 3.033(ne)-3.033 G .533(rror to try to)-3.033 F 3.556
(start up an)144 374.4 R 6.057(ya)-.15 G 3.557(pplication serv)-6.057 F
3.557(ers that aren')-.15 F 6.057(td)-.18 G 3.557(e\214ned using the)
-6.057 F F1(--app)6.057 E F0 6.057(option. The)6.057 F(optional)6.057 E
-.15(exe)144 386.4 S 1.195(c_string ar).15 F 1.194
(gument is a string suitable for passing to e)-.18 F -.15(xe)-.15 G
1.194(cl\(\) to start the application serv).15 F(er\(s\).)-.15 E 1.522
(Note that if e)144 398.4 R -.15(xe)-.15 G 1.522
(c_string contains spaces or shell metacharacters, you will ha).15 F
1.822 -.15(ve t)-.2 H 4.022(oe).15 G 1.522(nclose it in)-4.022 F .009(q\
uotes and/or escape those metacharacters in order for the string to be \
seen correctly by userv)144 410.4 R(er)-.15 E 5.009(.I)-.55 G(f)-5.009 E
-.15(exe)144 422.4 S .127(c_string is omitted, then it is inferred by i\
nterpreting the uri in the corresponding application as).15 F
(an actual directory path rooted at the document root \(see the)144
434.4 Q F1(--doc-r)2.5 E(oot)-.18 E F0(option\).)2.5 E F1(--app-r)108
463.2 Q(eq-queue-size N)-.18 E F0 .381
(The number of queue spaces, per application \(see the)144 475.2 R F1
(--app)2.881 E F0 .38(option abo)2.881 F -.15(ve)-.15 G .38
(\), to reserv).15 F 2.88(ef)-.15 G .38(or dynamic)-2.88 F 4.357
(requests. Requests)144 487.2 R 1.857(need to be queued whene)4.357 F
-.15(ve)-.25 G 4.358(ra).15 G 4.358(na)-4.358 G 1.858(pplication serv)
-4.358 F 1.858(er or some other resource)-.15 F 1.031
(\(such as dynamic b)144 499.2 R(uf)-.2 E 1.031(fer space, see abo)-.25
F -.15(ve)-.15 G 3.531(\)i).15 G 3.531(st)-3.531 G 1.031(emporarily una)
-3.531 F -.25(va)-.2 G 3.531(ilable. Should).25 F 1.03
(the request queue)3.53 F -2.15 -.25(ev e)144 511.2 T 3.051(rb).25 G
.551(ecome full, userv)-3.051 F .551(er will respond to arri)-.15 F .551
(ving requests with an HTTP 503 error)-.25 F 5.552(.I)-.55 G 3.052(fn)
-5.552 G .552(ot speci-)-3.052 F .019(\214ed, this option tak)144 523.2
R .018(es on the same v)-.1 F .018(alue as)-.25 F F1(--max-conns)2.518 E
F0 .018(so that it is ef)2.518 F(fecti)-.25 E -.15(ve)-.25 G .018
(ly impossible to o).15 F -.15(ve)-.15 G -.2(r-).15 G<8d6f>144 535.2 Q
2.5(wt)-.25 G(he request queue.)-2.5 E F1(--app=APP)108 576 Q(,PR)-.92 E
-1.88 -.4(OT O)-.3 H(,HOSTN).4 E(AME:POR)-.2 E -.74(T,)-.4 G(NUM).74 E
F0(Re)144 588 Q .683(gisters one or more application serv)-.15 F .684
(ers with the userv)-.15 F(er)-.15 E 3.184(.T)-.55 G .684
(his means that dynamic requests for)-3.184 F 1.9(APP will be forw)144
600 R 1.9(arded to the application serv)-.1 F 1.9
(er\(s\) running on HOSTN)-.15 F 1.9(AME and listening on)-.35 F(POR)144
612 Q 4.044 -.74(T. T)-.6 H 2.564(he optional NUM ar).74 F 2.564
(gument speci\214es the number of application serv)-.18 F 2.565
(ers running on)-.15 F(HOSTN)144 624 Q .322
(AME. When NUM is greater than one, the application serv)-.35 F .322
(ers listen on consecuti)-.15 F .622 -.15(ve p)-.25 H(orts,).15 E 1.188
(starting with POR)144 636 R 2.668 -.74(T. T)-.6 H 1.188(he PR).74 F
-1.88 -.4(OT O)-.4 H 1.188
(\215ag speci\214es the communication protocol. Currently)4.088 F 3.689
(,o)-.65 G 1.189(nly the)-3.689 F -.74(FA)144 648 S
(STCGI protocol is supported. Here is an e).74 E(xample:)-.15 E F1
(--app=specweb99-fcgi.pl,F)144 672 Q(ASTCGI,localhost:9000,24)-.9 E F0
.257(In this e)144 696 R .256(xample, dynamic requests for the specweb9\
9-fcgi.pl are handled by 24 application serv)-.15 F(ers)-.15 E .387
(running on the same machine as the userv)144 708 R(er)-.15 E 2.887(.T)
-.55 G .387(hese application serv)-2.887 F .388
(ers are listening on ports 9000)-.15 F 2.5(-9)144 720 S
(023, and communicate with the userv)-2.5 E(er using the F)-.15 E
(ASTCGI protocol.)-.74 E(userv)72 768 Q(er)-.15 E 146.04(-0.8.0 30)-.2 F
(January 2011)2.5 E(9)195.95 E 0 Cg EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E/F1 10/Times-Bold@0 SF(--start-app-ser)108 84 Q -.1(ve)
-.1 G(r=localhost:POR).1 E -.74(T,)-.4 G(NUM=P).74 E -.95(AT)-.74 G
(H,MASK).95 E F0 .639(Causes the userv)144 96 R .639
(er to start one or more application serv)-.15 F .638(ers on the userv)
-.15 F(er')-.15 E 3.138(sl)-.55 G 3.138(ocalhost. The)-3.138 F(NUM)3.138
E .615
(parameter speci\214es the number of copies of the application serv)144
108 R .615(er that will be started. If NUM is)-.15 F 1.642
(greater than 1, then the application serv)144 120 R 1.642
(er copies will listen on consecuti)-.15 F 1.942 -.15(ve p)-.25 H 1.642
(orts starting with).15 F(POR)144 132 Q 3.575 -.74(T. T)-.6 H 2.095
(he P).74 F -1.11(AT)-.92 G 4.595(Hp)1.11 G 2.095(arameter gi)-4.595 F
-.15(ve)-.25 G 4.595(sa).15 G 4.595(na)-4.595 G 2.096
(bsolute path to the application serv)-4.595 F 2.096(er e)-.15 F -.15
(xe)-.15 G 2.096(cutable. The).15 F 1.361
(MASK parameter is optional, and speci\214es the CPU af)144 144 R 1.36
(\214nity mask that will apply to the ne)-.25 F(wly)-.25 E
(started application serv)144 156 Q 2.5(ers. Here)-.15 F(is an e)2.5 E
(xample:)-.15 E F1(--start-app-ser)144 192 Q -.1(ve)-.1 G
(r=localhost:9000, 18=/usr/spec/specweb99-fcgi.pl, 0x000d).1 E F0 .115
(In this e)144 228 R .115(xample, 18 copies of the /usr/spec/specweb99-\
fcgi.pl script will be started.)-.15 F .116(These applica-)5.116 F .618
(tion serv)144 240 R .617
(ers will listen on ports 9000 - 9017 on the userv)-.15 F(er')-.15 E
3.117(sl)-.55 G 3.117(ocalhost. The)-3.117 F .617(MASK of 0x000d is)
3.117 F(the CPU af)144 252 Q
(\214nity mask, as interpretd by the sched_setaf)-.25 E
(\214nity system call.)-.25 E F1(--dyn-b)108 292.8 Q(uffer)-.2 E
(-size N)-.37 E F0 1.318
(The number of bytes to allocate at initialization time for b)144 304.8
R(uf)-.2 E 1.318(fering replies to dynamic requests.)-.25 F .437
(The def)144 316.8 R .437(ault is one me)-.1 F -.05(ga)-.15 G .437
(byte \(1048576 bytes\).).05 F .437(The number of such b)5.437 F(uf)-.2
E .436(fers can be speci\214ed using)-.25 F F1(--num-dyn-b)144 328.8 Q
(uffers)-.2 E F0(or)5.074 E F1(--num-dyn-b)5.074 E(uffers-per)-.2 E
(-app)-.37 E F0(or)5.074 E F1(--num-dyn-b)5.074 E(uffers-per)-.2 E
(-appser)-.37 E -.1(ve)-.1 G(r).1 E F0(\(see)5.074 E(belo)144 340.8 Q
3.582(w\). If)-.25 F 1.082
(none of these options is speci\214ed, then by def)3.582 F 1.082
(ault the userv)-.1 F 1.082(er allocates 2 b)-.15 F(uf)-.2 E 1.081
(fers per)-.25 F(application serv)144 352.8 Q(er)-.15 E(.)-.55 E F1
(--num-dyn-b)108 381.6 Q(uffers N)-.2 E F0 .002(The number of b)144
393.6 R(uf)-.2 E .002(fers to allocate at initialization time for b)-.25
F(uf)-.2 E .002(fering replies to dynamic requests.)-.25 F(If)5.002 E
3.916(this option is speci\214ed, then the)144 405.6 R F1(--num-dyn-b)
6.416 E(uffers-per)-.2 E(-app)-.37 E F0(and)6.416 E F1(--num-dyn-b)6.416
E(uffers-per)-.2 E(-)-.37 E(appser)144 417.6 Q -.1(ve)-.1 G(r).1 E F0
(options are ignored.)2.5 E F1(--num-dyn-b)108 446.4 Q(uffers-per)-.2 E
(-app N)-.37 E F0 1.117(The number of b)144 458.4 R(uf)-.2 E 1.118
(fers, per application \(see the)-.25 F F1(--app)3.618 E F0 1.118
(option belo)3.618 F 1.118(w\), to allocate at initialization)-.25 F
.061(time for b)144 470.4 R(uf)-.2 E .061
(fering replies to dynamic requests.)-.25 F .061
(If this option is speci\214ed, then the)5.061 F F1(--num-dyn-b)2.56 E
(uf-)-.2 E(fers-per)144 482.4 Q(-appser)-.37 E -.1(ve)-.1 G(r).1 E F0
.705(option is ignored.)3.205 F .705(This option is ignored if the)5.705
F F1(--num-dyn-b)3.205 E(uffers)-.2 E F0 .705(option is)3.205 F
(speci\214ed.)144 494.4 Q F1(--num-dyn-b)108 523.2 Q(uffers-per)-.2 E
(-appser)-.37 E -.1(ve)-.1 G 2.5(rN).1 G F0 .074(The number of b)144
535.2 R(uf)-.2 E .074(fers, per application serv)-.25 F .073
(er \(see the)-.15 F F1(--app)2.573 E F0 .073(option belo)2.573 F .073
(w\), to allocate at initializa-)-.25 F 1.314(tion time for b)144 547.2
R(uf)-.2 E 1.314(fering replies to dynamic requests.)-.25 F 1.314
(The def)6.314 F 1.314(ault is 2.)-.1 F 1.315(This option is ignored if)
6.315 F(either the)144 559.2 Q F1(--num-dyn-b)2.5 E(uffers)-.2 E F0
(or the)2.5 E F1(--num-dyn-b)2.5 E(uffers-per)-.2 E(-app)-.37 E F0
(option is speci\214ed.)2.5 E F1(--dyn-lock-pages)108 588 Q F0
(Lock all dynamic b)144 600 Q(uf)-.2 E
(fer pages into memory \(must run as root for this to w)-.25 E(ork\).)
-.1 E F1(--dyn-touch-pages)108 628.8 Q F0 -.8(To)144 640.8 S .035
(uch each dynamic b).8 F(uf)-.2 E .035(fer page at initialization time.)
-.25 F .035(This should ha)5.035 F .334 -.15(ve t)-.2 H .034(he ef).15 F
.034(fect of f)-.25 F .034(aulting them)-.1 F .791(into memory)144 652.8
R 5.791(.H)-.65 G -.25(ow)-5.791 G -2.15 -.25(ev e).25 H 1.591 -.4(r, i)
.25 H 3.291(nt).4 G .791(he absense of the)-3.291 F F1(--dyn-lock-pages)
3.291 E F0 .792(option, these pages are still sub-)3.292 F
(ject to being paged out.)144 664.8 Q/F2 10.95/Times-Bold@0 SF
(OPTIONS \(FOR USE WITH SIGIO\))72 693.6 Q F0(userv)72 768 Q(er)-.15 E
146.04(-0.8.0 30)-.2 F(January 2011)2.5 E(10)190.95 E 0 Cg EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E/F1 10/Times-Bold@0 SF(-a)108 84 Q(--sigio-accepts)108
100.8 Q F0 1.019(Use asynchronous noti\214cation via SIGIO to accept ne)
144 112.8 R 3.519(wc)-.25 G 3.519(onnections. Asynchronous)-3.519 F
(noti\214cation)3.519 E .042(may sound costly at \214rst b)144 124.8 R
.042(ut consider that some form of asynchronous noti\214cation may be t\
he only)-.2 F -.1(wa)144 136.8 S 3.416(yf).1 G .916(or an application t\
hat is in the middle of something \(e.g., computation\) to \214nd out a\
bout a)-3.416 F(connection requests.)144 148.8 Q F1(-k)108 177.6 Q
(--sigio-use-pr)108 194.4 Q(ocmask)-.18 E F0 1.806 -.8(To d)144 206.4 T
.207(isable and later enable asynchronous noti\214cation of incoming re\
quests when using SIGIO one).8 F .712(can use)144 218.4 R F1(fcntl\(\))
3.212 E F0 .712(to turn of)3.212 F 3.211(fa)-.25 G .711
(nd on asynchronous noti\214cation or use)-3.211 F F1(sigpr)3.211 E
(ocmask\(\).)-.18 E F0 .711(Be careful of)5.711 F 1.945
(race conditions.)144 230.4 R 1.945(By def)6.945 F 1.945(ault the serv)
-.1 F 1.945(er uses)-.15 F F1(fcntl\(\))4.445 E F0 -.2(bu)4.445 G 4.445
(tt).2 G 1.945(his option says to use)-4.445 F F1(sigpr)4.445 E
(ocmask\(\))-.18 E F0(instead.)144 242.4 Q/F2 10.95/Times-Bold@0 SF
(OPTIONS \(FOR ASYNCHR)72 271.2 Q(ONOUS I/O\))-.329 E F0 1.271
(This is e)108 295.2 R 1.271(xperimental and currently the userv)-.15 F
1.271(er only mak)-.15 F 1.271(es use of asynchronous sock)-.1 F 1.27
(et I/O.)-.1 F 1.27(This is still)6.27 F .095(under de)108 307.2 R -.15
(ve)-.25 G .095(lopment and is being tested.).15 F .095(See aio_layer)
5.095 F .095(.h for a de\214nition of the interf)-.55 F .096
(ace that the userv)-.1 F .096(er uses)-.15 F .223
(to interact with the underlying asynchronous layer)108 319.2 R 5.222
(.N)-.55 G .222(ote that not all of the calls in aio_layer)-5.222 F .222
(.h are meant to)-.55 F .842(be asynchronous.)108 331.2 R .842
(Some are simply required in order to complete the layer)5.842 F 5.842
(.E)-.55 G .842(.g., aio_sock_create is syn-)-5.842 F(chronous b)108
343.2 Q(ut it is used to create a sock)-.2 E
(et that can be used asynchronously)-.1 E(.)-.65 E F1(--use-aio-accept)
108 372 Q(--use-aio-r)108 388.8 Q(ead)-.18 E(--use-aio-write)108 405.6 Q
(--use-aio-close)108 422.4 Q F0 .464(Use the asynchronous v)144 434.4 R
.464(ersion of the corresponding system calls for sock)-.15 F .464
(et I/O.)-.1 F .463(These de\214nitions)5.463 F -.15(ex)144 446.4 S .799
(ist b).15 F .799(ut are all currently only used together)-.2 F 5.799
(.I)-.55 G(t')-5.799 E 3.299(sp)-.55 G .799(retty unlik)-3.299 F .8
(ely that an)-.1 F 3.3(yo)-.15 G 3.3(ft)-3.3 G .8(hese could be used)
-3.3 F(independently)144 458.4 Q(.)-.65 E F1(--use-sock)108 487.2 Q
(et-aio)-.1 E F0(Use ansynchronous I/O for sock)144 499.2 Q 2.5
(ets. This)-.1 F(turns on all of the abo)2.5 E .3 -.15(ve o)-.15 H
(ptions.).15 E F1(--use-aio-wait)108 528 Q F0 .14(There are tw)144 540 R
2.64(ow)-.1 G .14(ays to get e)-2.74 F -.15(ve)-.25 G .139
(nts from the AIO layer).15 F 5.139(.T)-.55 G .139(he aio_w)-5.139 F
.139(ait call returns a)-.1 F -.25(va)-.2 G .139(ilable e).25 F -.15(ve)
-.25 G .139(nts of).15 F .44(all types in a single array)144 552 R 2.94
(.I)-.65 G(t')-2.94 E 2.94(st)-.55 G .44(hen up to the userv)-2.94 F .44
(er to handle them in the order the)-.15 F 2.94(ya)-.15 G .44
(ppear or to)-2.94 F 1.601(sort through them.)144 564 R 1.601
(This is not on by def)6.601 F 1.601(ault and by def)-.1 F 1.6
(ault the userv)-.1 F 1.6(er uses multiple calls to)-.15 F
(aio_sock_gete)144 576 Q -.15(ve)-.25 G .872(nts which only gets e).15 F
-.15(ve)-.25 G .873(nts e).15 F -.15(ve)-.25 G .873
(nts of a speci\214ed type.).15 F .873(Using aio_sock_gete)5.873 F -.15
(ve)-.25 G(nts).15 E .186(permits us to get all e)144 588 R -.15(ve)-.25
G .185(nts of a speci\214ed type and to process them. This enables us t\
o order e).15 F -.15(ve)-.25 G(nts).15 E(to be processed by e)144 600 Q
-.15(ve)-.25 G(nt type.).15 E F1(--aio-accept-thold)108 628.8 Q F0(=)A
F1(N)A F0 1.347(This is meant to control the maximum number of outstand\
ing accept calls that can be initiated)144 640.8 R 3.37
(\(preposted\). Using)144 652.8 R .869(this in conjunction with --accep\
t-count \(-m\) we should be able to impact the)3.37 F .139(accept rate.)
144 664.8 R 2.639(It)5.139 G .139(hink that lar)-2.639 F .139(ger v)-.18
F .139
(alues of --aio-accept-thold used in conjunction with --accept-count)
-.25 F 3.787(0\()144 676.8 S 1.287(-m 0\) should be pretty aggressi)
-3.787 F 1.586 -.15(ve a)-.25 H 1.286(bout accepting ne).15 F 3.786(wc)
-.25 G 3.786(onnections. This)-3.786 F(hasn')3.786 E 3.786(tb)-.18 G
1.286(een tested)-3.786 F -.15(ve)144 688.8 S(ry e).15 E(xtensi)-.15 E
-.15(ve)-.25 G(ly).15 E 5(.E)-.65 G(specially in conjunction with dif)-5
E(ferent v)-.25 E(alues of --accept-count.)-.25 E(userv)72 768 Q(er)-.15
E 146.04(-0.8.0 30)-.2 F(January 2011)2.5 E(11)190.95 E 0 Cg EP
%%Page: 12 12
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E/F1 10/Times-Bold@0 SF(--aio-r)108 84 Q(ead-bef)-.18 E
(or)-.25 E(e-accept)-.18 E F0 -.4(Wi)144 96 S 1.579
(th this option the userv).4 F 1.579
(er calls aio_sock_read_accept whene)-.15 F -.15(ve)-.25 G 4.079(ran).15
G 2.079 -.25(ew c)-4.079 H 1.58(onnection should be).25 F 3.569
(accepted. This)144 108 R 1.069
(initiates a read call before initiating an accept call.)3.569 F 1.068
(This informs the underlying)6.068 F 1.211(system of where the read b)
144 120 R(uf)-.2 E 1.211(fer is located so that when data is a)-.25 F
-.25(va)-.2 G 1.212(ilable it can be immediately).25 F
(placed into the speci\214ed b)144 132 Q(uf)-.2 E(fer)-.25 E(.)-.55 E F1
(--aio-r)108 160.8 Q(ead-bef)-.18 E(or)-.25 E(e-write)-.18 E F0 -.4(Wi)
144 172.8 S 1.203(th this option the userv).4 F 1.203
(er initiates a read call before it tries to write a request.)-.15 F(Ag)
6.202 E 1.202(ain this is)-.05 F .005(meant to permit arri)144 184.8 R
.005(ving data to be copied directly into the speci\214ed read b)-.25 F
(uf)-.2 E(fer)-.25 E 5.006(.I)-.55 G 2.506(tc)-5.006 G .006
(an only be ini-)-2.506 F .415
(tiated after the request has been parsed and is deemed to be complete.)
144 196.8 R .415(Otherwise a prepost might)5.415 F(possibly allo)144
208.8 Q 2.5(wt)-.25 G(he read b)-2.5 E(uf)-.2 E(fer to be o)-.25 E -.15
(ve)-.15 G(rwritten.).15 E F1(--aio-accept-e)108 237.6 Q -.1(ve)-.15 G
(nts-limit).1 E F0(=)A F1(N)A F0 .341(Limits ho)144 249.6 R 2.841(wm)
-.25 G(an)-2.841 E 2.841(ya)-.15 G .341(ccept completion e)-2.841 F -.15
(ve)-.25 G .341
(nts to get out of the accept completion queue at one time.).15 F .127(\
The idea is that it might be possible to use this and the read and writ\
e limits belo)144 261.6 R 2.627(wi)-.25 G 2.627(no)-2.627 G .127
(rder to con-)-2.627 F .227(trol ho)144 273.6 R 2.727(wt)-.25 G .227
(he w)-2.727 F .227(ork being processed is balanced.)-.1 F .228
(Note that one might actually prefer to adjust these)5.227 F -.25(va)144
285.6 S(lues dynamically).25 E(.)-.65 E F1(--aio-write-e)108 314.4 Q -.1
(ve)-.15 G(nts-limit).1 E F0(=)A F1(N)A F0(Limits ho)144 326.4 Q 2.5(wm)
-.25 G(an)-2.5 E 2.5(yw)-.15 G(rite completion e)-2.5 E -.15(ve)-.25 G
(nts to get out of the write completion queue at one time.).15 E F1
(--aio-r)108 355.2 Q(ead-e)-.18 E -.1(ve)-.15 G(nts-limit).1 E F0(=)A F1
(N)A F0(Limits ho)144 367.2 Q 2.5(wm)-.25 G(an)-2.5 E 2.5(yr)-.15 G
(ead completion e)-2.5 E -.15(ve)-.25 G
(nts to get out of the read completion queue at one time.).15 E F1
(--aio-completion-order)108 396 Q F0(=)A F1(string)A F0 .331
(Set the order in which completion e)144 408 R -.15(ve)-.25 G .331
(nts will get processed.).15 F .33(The string must contain ')5.331 F .33
(r', 'w', and)-.5 F 1.255('a' characters.)144 420 R 1.255
(Read completions are speci\214ed with ')6.255 F 1.256
(r', write completions with 'w', and accept)-.5 F .085
(completions with 'a'.)144 432 R .085(So "rw)5.085 F .085
(a" means process read completions, then, write completions follo)-.1 F
(wed)-.25 E(by accept completions.)144 444 Q
(Note that it is possible to specify a string lik)5 E(e: "rwrw)-.1 E
(a".)-.1 E F1(--aio-complq-count)108 472.8 Q F0(=)A F1([1|3])A F0 .296
(Speci\214es ho)144 484.8 R 2.796(wm)-.25 G(an)-2.796 E 2.796(yc)-.15 G
.296(ompletion queus to use.)-2.796 F .297
(Currently only supports 1 or 3.)5.296 F .297(Note that for a sin-)5.297
F .115(gle completion queues limits speci\214ed on --aio-write-e)144
496.8 R -.15(ve)-.25 G .114(nts-limit, --aio-read-e).15 F -.15(ve)-.25 G
.114(nts-limit, or --aio-).15 F(accept-e)144 508.8 Q -.15(ve)-.25 G
1.503(nts-limit don').15 F 4.003(tr)-.18 G 1.503(eally apply)-4.003 F
6.503(.I)-.65 G 1.503
(nstead the sum of these is used to limit the number of)-6.503 F -2.15
-.25(ev e)144 520.8 T(nts handled at one time \(in the 1 queue case\).)
.25 E/F2 10.95/Times-Bold@0 SF(OPTIONS \(FOR OPEN FILE AND HEADER CA)72
549.6 Q(CHING\))-.602 E F1(-C)108 578.4 Q(--caching-on)108 595.2 Q F0
-.45(Tu)144 607.2 S(rns caching on.).45 E F1(--cache-table-size=)108 636
Q/F3 10/Times-Italic@0 SF(N).7 E F0 .206
(Speci\214es the size of the hash table used to cached \214les.)144 648
R .205(One entry is used per cached \214le.)5.205 F(NO)5.205 E(TE:)-.4 E
.952(if the)144 660 R F1(--cache-max-load-factor)3.452 E F0 .952(is e)
3.452 F .952(xceeded the serv)-.15 F .953(er will print a message and e)
-.15 F 3.453(xit. W)-.15 F 3.453(ed)-.8 G 3.453(on)-3.453 G(ot)-3.453 E
.803(automatically increase the size of the hash table because we w)144
672 R .802(ant to ensure identical and repeat-)-.1 F(able beha)144 684 Q
(viour from one e)-.2 E(xperiment to the ne)-.15 E(xt.)-.15 E(userv)72
768 Q(er)-.15 E 146.04(-0.8.0 30)-.2 F(January 2011)2.5 E(12)190.95 E 0
Cg EP
%%Page: 13 13
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E/F1 10/Times-Bold@0 SF(--cache-max-load-factor=)108 84 Q
/F2 10/Times-Italic@0 SF(N).7 E F0 1.169(Speci\214es the maximum propor\
tion of entries that can be \214lled in the hash table, e)144 96 R 1.169
(xpressed as a)-.15 F .783(fraction of the table size.)144 108 R -.15
(Fo)5.782 G 3.282(re).15 G(xample)-3.432 E F1 .782
(--cache-max-load-factor = 0.70)3.282 F F0 .782
(will not permit the hash)3.282 F
(table to become greater than 70% full.)144 120 Q
(If it does, a message is printed and the serv)5 E(er e)-.15 E(xits.)
-.15 E F1(--cache-max-bytes=)108 148.8 Q F2(N).7 E F0
(Speci\214es the maximum number of bytes cached.)144 160.8 Q F1
(--cache-max-\214le-size=)108 189.6 Q F2(N).7 E F0(Don')144 201.6 Q 2.5
(tc)-.18 G(ache \214les lar)-2.5 E(ger than)-.18 E F2(N)3.2 E F0(bytes.)
3.6 E F1(--cache-table-print)108 230.4 Q F0(When the program ends, prin\
t out the contents of the hash table used for caching.)144 242.4 Q F1
(--cache-f)108 271.2 Q(or)-.25 E(-spec)-.37 E F0 .135(This enables a sp\
ecial hash function that does perfect hashing on URLs requested by SPEC\
web99.)144 283.2 R(This is intended for e)144 295.2 Q
(xperimentation only)-.15 E(.)-.65 E F1(--cache-lock-pages)108 324 Q F0
(Lock all cached pages into memory \(must run as root for this to w)144
336 Q(ork\).)-.1 E F1(--cache-warm)108 364.8 Q F2(<\214lename>)-.34 E F0
.899(If speci\214ed and caching is enabled then read a list of \214les \
and/or directories in <\214lename>.)144 376.8 R -.15(Fo)5.898 G(r).15 E
.393(each \214le add it to the userv)144 388.8 R .394
(er cache and touch each page.)-.15 F .394(If it')5.394 F 2.894(sad)-.55
G(irectory)-2.894 E 2.894(,c)-.65 G .394(ache and touch each)-2.894 F
(\214le in the directory)144 400.8 Q 5(.I)-.65 G 2.5(f-)-5 G
(-cache-table-print is declared then print the cache after it')-2.5 E
2.5(sb)-.55 G(een primed.)-2.5 E/F3 10.95/Times-Bold@0 SF
(OPTIONS \(FOR DEB)72 429.6 Q(UGGING\))-.11 E F1(-D [0x]N)108 458.4 Q
(--deb)108 475.2 Q(ug-mask=)-.2 E F2([0x]N).29 E F1(])1.1 E F0 1.033
(Specify a deb)144 487.2 R 1.033(ug mask.)-.2 F 1.033(If pre\214x)6.033
F 1.033(ed with '0x', the ar)-.15 F 1.033(gument is interpreted as he)
-.18 F 1.032(xadecimal; other)-.15 F(-)-.2 E .008
(wise it is interpreted as decimal.)144 499.2 R -.15(Fo)5.008 G 2.508
(rm).15 G .008(aximum deb)-2.508 F .008(ugging detail use)-.2 F F1
(--deb)2.508 E .008(ug-mask =)-.2 F F2(0xf)2.688 E -2.29 -.18(fffffff .)
-.18 H F0 -.8(To)5.188 G 1.6(turn deb)144 511.2 R 1.6
(ugging messages of)-.2 F 4.1(fu)-.25 G(se)-4.1 E F1(--deb)4.1 E 1.6
(ug-mask =)-.2 F F2(0x0.)4.28 E F0 1.6(See deb)6.6 F 1.6
(ug.h for details.)-.2 F 1.6(Note: that to)6.6 F(compile without deb)144
523.2 Q(ugging also see deb)-.2 E(ug.h.)-.2 E F1(--trace-summary)108 552
Q F0 -.25(Ke)144 564 S .448(ep track of information re).25 F -.05(ga)
-.15 G .448(rding system calls and print a summary).05 F 5.448(.I)-.65 G
2.948(ft)-5.448 G .448(racing is enabled a list)-2.948 F(of each e)144
576 Q -.15(ve)-.25 G
(nt being traced will be dumped to a trace output \214le.).15 E F1
(--trace-summary-only)108 604.8 Q F0 -.25(Ke)144 616.8 S .94
(ep track of information re).25 F -.05(ga)-.15 G .94
(rding system calls and print a summary).05 F 5.94(.I)-.65 G 3.44(ft)
-5.94 G .94(his option is enabled)-3.44 F(indi)144 628.8 Q .534
(vidual e)-.25 F -.15(ve)-.25 G .534(nts are not actually recorded b).15
F .534(ut instead information to produce a summary of each)-.2 F -2.15
-.25(ev e)144 640.8 T .932(nt type is track).25 F .932(ed. F)-.1 F .932
(or e)-.15 F .931(xample, minimum, maximum and a)-.15 F -.15(ve)-.2 G
.931(rage call times for each system).15 F(call being traced.)144 652.8
Q F1(--trace-\214lename path)108 681.6 Q F0(Specify the name of the \
\214le to write tracing output to, when tracing is enabled.)144 693.6 Q
(userv)72 768 Q(er)-.15 E 146.04(-0.8.0 30)-.2 F(January 2011)2.5 E(13)
190.95 E 0 Cg EP
%%Page: 14 14
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E/F1 10/Times-Bold@0 SF(-i)108 84 Q(--interacti)108 100.8
Q -.1(ve)-.1 G F0 -.45(Tu)144 112.8 S .368(rns on interacti).45 F .668
-.15(ve m)-.25 H 2.868(ode. The).15 F(serv)2.868 E .369
(er stops between calls to process e)-.15 F -.15(ve)-.25 G .369
(nts and prompts the user).15 F .613(for input.)144 124.8 R .613
(This permits the user to query some of the state of the serv)5.613 F
.612(er or to step through serv)-.15 F(er)-.15 E -.15(exe)144 136.8 S
2.5(cution. At).15 F(the prompt type 'h' or '?' for a list of commands.)
2.5 E F1(-P)108 165.6 Q(--count-sigpipes)108 182.4 Q F0(Install a signa\
l handler that simply counts the number of SIGPIPE signals recei)144
194.4 Q -.15(ve)-.25 G(d.).15 E/F2 10.95/Times-Bold@0 SF
(OPTIONS \(FOR EXPERIMENTS RELA)72 223.2 Q(TED T)-1.04 E 2.738(OB)-.197
G(OUNDING PERFORMANCE\))-2.738 E F0 .451
(These options are designed to ha)108 247.2 R .751 -.15(ve t)-.2 H .451
(he serv).15 F .451(er stop processing a request at v)-.15 F .451
(arious stages of a requests life.)-.25 F .029
(It stops handling the request by closing it')108 259.2 R 2.529(se)-.55
G .029(nd of the sock)-2.529 F .029(et and not w)-.1 F .029
(orking on that request an)-.1 F 2.528(ymore. I')-.15 F -.15(ve)-.5 G
.017(attempted to list these in the order of earliest time to drop the \
request to latest.)108 271.2 R .018(The idea is that by running a)5.017
F .79(series of e)108 283.2 R .79(xperiments by using each of these opt\
ions one might be able to get a sense of ho)-.15 F 3.29(wm)-.25 G .79
(uch addi-)-3.29 F(tional stage costs.)108 295.2 Q F1(-n)108 324 Q
(--no-accepts)108 340.8 Q(--listen-only)108 357.6 Q F0 .248
(This puts the serv)144 369.6 R .249(er into a mode where it only e)-.15
F -.15(ve)-.25 G 2.749(rl).15 G .249(istens to requests.)-2.749 F .249
(It ne)5.249 F -.15(ve)-.25 G 2.749(rm).15 G(ak)-2.749 E .249(es an)-.1
F 2.749(ya)-.15 G(ttempt)-2.749 E .518(to process requests.)144 381.6 R
.518(So it ne)5.518 F -.15(ve)-.25 G 3.018(re).15 G -.15(ve)-3.268 G
3.018(na).15 G .518(ccepts an)-3.018 F 3.018(yr)-.15 G 3.018
(equests. The)-3.018 F(belie)3.018 E .817 -.15(ve i)-.25 H 3.017(st).15
G .517(hat this might be used)-3.017 F .199(to pro)144 393.6 R .199
(vide insights into the amount of o)-.15 F -.15(ve)-.15 G .199
(rhead incurred when k).15 F .2(ernel TCP SYN queues and appli-)-.1 F
(cation listen queues become full.)144 405.6 Q F1(-A)108 434.4 Q
(--accepts-only)108 451.2 Q(--close-after)108 468 Q(-accept)-.37 E F0
1.059(In this mode the serv)144 480 R 1.058(er accepts and closes incom\
ing connection requests as quickly as possible.)-.15 F .177
(At the time this w)144 492 R .178(as done)-.1 F/F3 10/Times-Italic@0 SF
(close\(\))2.878 E F0 -.1(wo)2.738 G .178
(uld block until the call completed \(despite the fd being in non).1 F
(blocking mode\).)144 504 Q(So immediately after accepting, call)5 E F3
(close\(\).)2.7 E F0(to terminate the connection.)5 E F1(--close-after)
108 532.8 Q(-sock-init)-.37 E F0 1.357(The serv)144 544.8 R 1.356
(er accepts a connection, initializes the sock)-.15 F 1.356
(et \(setting sock)-.1 F 1.356(et options lik)-.1 F 3.856(es)-.1 G(ock)
-3.856 E 1.356(et b)-.1 F(uf)-.2 E(fer)-.25 E
(sizes, non blocking mode, etc\) and then it closes the connection.)144
556.8 Q F1(--close-after)108 585.6 Q(-r)-.37 E(ead)-.18 E F0 .904
(The serv)144 597.6 R .904
(er accepts a connection, initializes the sock)-.15 F .905
(et reads the request and then closes the con-)-.1 F(nection.)144 609.6
Q F1(--close-after)108 638.4 Q(-parse)-.37 E F0 1.089(The serv)144 650.4
R 1.089(er accepts a connection, initializes the sock)-.15 F 1.088
(et reads the request, parses the requests and)-.1 F
(then closes the connection.)144 662.4 Q F1(--fak)108 691.2 Q(e-writing)
-.1 E F0 1.088(The serv)144 703.2 R 1.088
(er accepts a connection, initializes the sock)-.15 F 1.089
(et reads the request, parses the requests and)-.1 F .941
(then reads the entire \214le before sending a f)144 715.2 R(ak)-.1 E
3.441(er)-.1 G .941(esponse \(HTTP OK with size 0\).)-3.441 F .941
(Note that this)5.941 F .917(only w)144 727.2 R .917(orks when read/wri\
te are being used \(currently this happens only when the \214le descrip\
tor)-.1 F(userv)72 768 Q(er)-.15 E 146.04(-0.8.0 30)-.2 F(January 2011)
2.5 E(14)190.95 E 0 Cg EP
%%Page: 15 15
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E
(and response header are not cached and when send\214le is not used\).)
144 84 Q/F1 10.95/Times-Bold@0 SF
(OPTIONS \(FOR USE WITH THE SEND ENHANCED KERNEL\))72 112.8 Q F0 -1.2
(WA)108 136.8 S(RNING: these options are highly e)1.2 E
(xperimental and subject to continuous change.)-.15 E .555
(These options specify ho)108 160.8 R 3.055(wt)-.25 G(he)-3.055 E/F2 10
/Times-Bold@0 SF(user)3.054 E -.1(ve)-.1 G(r).1 E F0 .554
(interacts with ne)3.054 F 3.054(wL)-.25 G .554(inux Scalable Ev)-3.054
F .554(ent Noti\214cation and Deli)-.15 F -.15(ve)-.25 G(ry).15 E
(\(SEND\) k)108 172.8 Q(ernel mechanisms.)-.1 E(See [Ostro)5 E
(wski-2000] for more details on SEND.)-.25 E F2(-K [0x]N)108 201.6 Q
(--kdeb)108 218.4 Q(ug-mask=)-.2 E/F3 10/Times-Italic@0 SF([0x]N).29 E
F2(])1.1 E F0 .118(Specify a deb)144 230.4 R .119
(ugging mask which is passed to the)-.2 F F3 -.15(ev)2.619 G(tctl).15 E
F0 .119(system call to set a k)3.129 F .119(ernel deb)-.1 F .119
(ugging mask)-.2 F .001(for the SEND related parts of the k)144 242.4 R
2.501(ernel. If)-.1 F(pre\214x)2.501 E 0(ed with '0x', the ar)-.15 F
(gument is interpreted as he)-.18 E(xa-)-.15 E
(decimal; otherwise it is interpreted as decimal.)144 254.4 Q F2
(--send-polls-f)108 283.2 Q(or)-.25 E(-accepts)-.37 E F0
(The send loop polls for ne)144 295.2 Q 2.5(wc)-.25 G(onnections.)-2.5 E
F2(-B)108 324 Q(--block-f)108 340.8 Q(or)-.25 E(-send_e)-.37 E -.1(ve)
-.15 G(nts).1 E F0 .479(When there are not more e)144 352.8 R -.15(ve)
-.25 G .479(nts to process, block and w).15 F .48
(ait for one or more ne)-.1 F 2.98(we)-.25 G -.15(ve)-3.23 G .48
(nts by calling).15 F F3 -.15(ev)144 364.8 S(tctl\(\).).15 E F2(-E)108
393.6 Q(--send-e)108 410.4 Q -.1(ve)-.15 G(nts).1 E F0(Use send e)144
422.4 Q -.15(ve)-.25 G(nts. This v).15 E
(ersion does not do noti\214cation.)-.15 E F2(-G)108 451.2 Q
(--use-getpid)108 468 Q F0 .681(If we aren')144 480 R 3.181(tb)-.18 G
.681(locking to w)-3.181 F .681(ait for e)-.1 F -.15(ve)-.25 G .681
(nts \(by calling e).15 F .68(vtctl\) we may wish to mak)-.25 F 3.18
(eas)-.1 G .68(ystem call to)-3.18 F(gi)144 492 Q .693 -.15(ve t)-.25 H
.393(he k).15 F .393(ernel a chance to deli)-.1 F -.15(ve)-.25 G 2.893
(re).15 G -.15(ve)-3.143 G .393(nts to the application \(since the).15 F
2.893(ya)-.15 G .393(re deli)-2.893 F -.15(ve)-.25 G .394
(red when return-).15 F(ing from a syscall.)144 504 Q
(In this case we use)5 E F3 -.1(ge)2.5 G(tpid\(\)).1 E F0
(because it is lik)2.56 E(ely f)-.1 E(ast.)-.1 E F2(-Y)108 532.8 Q
(--send-io-e)108 549.6 Q -.1(ve)-.15 G(nts).1 E F0(Use send e)144 561.6
Q -.15(ve)-.25 G(nts. This v).15 E(ersion does do noti\214cation.)-.15 E
F2(-N)108 590.4 Q(--send-loop)108 607.2 Q F0 1.512(Use the send loop.)
144 619.2 R 1.512(Can potentially get and process send e)6.512 F -.15
(ve)-.25 G 1.512(nts e).15 F -.15(ve)-.25 G 4.012(nw).15 G 1.512
(hile using select.)-4.012 F(This)6.512 E
(bypasses the use of the select call.)144 631.2 Q F2(-b N)108 660 Q
(--ecb-b)108 676.8 Q(uf-entries=)-.2 E F3(N).7 E F0(Ho)144 688.8 Q 2.5
(wm)-.25 G(an)-2.5 E 2.5(ye)-.15 G -.15(ve)-2.75 G
(nts can be stored in the application').15 E 2.5(se)-.55 G -.15(ve)-2.75
G(nt control b).15 E(uf)-.2 E(fer \(ecb\).)-.25 E F2(-Q N)108 717.6 Q F0
(userv)72 768 Q(er)-.15 E 146.04(-0.8.0 30)-.2 F(January 2011)2.5 E(15)
190.95 E 0 Cg EP
%%Page: 16 16
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E/F1 10/Times-Bold@0 SF(--ecb-hi-water=)108 84 Q/F2 10
/Times-Italic@0 SF(N).7 E F0 .185(Set the high w)144 96 R .185
(ater mark used for the e)-.1 F -.15(ve)-.25 G .185(nt control b).15 F
(uf)-.2 E .185(fer \(ecb\).)-.25 F .185(One of the things we')5.185 F
.486 -.15(ve t)-.5 H .186(ried is to).15 F .46(turn e)144 108 R -.15(ve)
-.25 G .46(nt deli).15 F -.15(ve)-.25 G .46(ry of).15 F 2.96(fw)-.25 G
.46(hen the)-2.96 F F2(--ecb-hi-water)2.97 E F0 .46
(mark is reached and then to turn deli)3.69 F -.15(ve)-.25 G .46
(ry back on).15 F(when the)144 120 Q F2(--ecb-low-water)2.51 E F0
(mark is reached.)3.23 E F1(-q N)108 148.8 Q(--ecb-lo)108 165.6 Q
(w-water=)-.1 E F2(N).7 E F0 .344(Set the lo)144 177.6 R 2.844(ww)-.25 G
.345(ater mark used for the e)-2.944 F -.15(ve)-.25 G .345(nt control b)
.15 F(uf)-.2 E .345(fer \(ecb\).)-.25 F .345(One of the things we')5.345
F .645 -.15(ve t)-.5 H .345(ried is to).15 F .46(turn e)144 189.6 R -.15
(ve)-.25 G .46(nt deli).15 F -.15(ve)-.25 G .46(ry of).15 F 2.96(fw)-.25
G .46(hen the)-2.96 F F2(--ecb-hi-water)2.97 E F0 .46
(mark is reached and then to turn deli)3.69 F -.15(ve)-.25 G .46
(ry back on).15 F(when the)144 201.6 Q F2(--ecb-low-water)2.51 E F0
(mark is reached.)3.23 E F1(-U)108 230.4 Q(--auto-accept)108 247.2 Q F0
-.45(Tu)144 259.2 S 1.18(rn on the SEND k).45 F(ernel')-.1 E 3.68(sa)
-.55 G 1.18(uto accept mechanisms.)-3.68 F 1.18(When ne)6.18 F 3.68(wc)
-.25 G 1.18(onnection requests arri)-3.68 F 1.48 -.15(ve t)-.25 H(he).15
E -.1(ke)144 271.2 S 1.296(rnel automatically accepts them \(auto accep\
ts 'em\) and noti\214es the application with an e).1 F -.15(ve)-.25 G
(nt).15 E(containing the ne)144 283.2 Q 2.5(wc)-.25 G(onnection')-2.5 E
2.5(sf)-.55 G(d.)-2.5 E F1(--auto-accept-apertur)108 312 Q(e)-.18 E F0
1.457(Control the dif)144 324 R 1.458
(ference between the number of connections the k)-.25 F 1.458
(ernel has autoaccepted and the)-.1 F .603
(number of connections the application has closed.)144 336 R -.4(Wi)
5.603 G .603(thout this type of control the autoaccepting).4 F .133
(can get out of control and the k)144 348 R .133
(ernel can spend too much time auto accepting ne)-.1 F 2.633(wc)-.25 G
.133(onnections and)-2.633 F(the application is not able to mak)144 360
Q 2.5(em)-.1 G(uch forw)-2.5 E(ard progress on e)-.1 E
(xisting connections.)-.15 E F1(--use-accept-send)108 388.8 Q F0 1.785
(Use a special v)144 400.8 R 1.785(ersion of accept that returns e)-.15
F -.15(ve)-.25 G 1.785(nt information related to the accepted connec-)
.15 F(tion/sock)144 412.8 Q(et.)-.1 E F1(-j)108 441.6 Q(--k)108 458.4 Q
(er)-.1 E(nel-inf)-.15 E(o)-.25 E F0 1.201(Experimental: w)144 470.4 R
1.201(as to tell the application that the k)-.1 F 1.202
(ernel has an interf)-.1 F 1.202(ace a)-.1 F -.25(va)-.2 G 1.202
(ilable for obtaining).25 F .167
(more information about the size and number of entries in some of the k)
144 482.4 R .166(ernel queues \(e.g., the TCP)-.1 F
(SYNQs and the application')144 494.4 Q 2.5(sl)-.55 G(istenq\).)-2.5 E
/F3 10.95/Times-Bold@0 SF(OPTIONS \(FOR CHOOSING AND CONTR)72 511.2 Q
(OLLING A VICTIM\))-.329 E F0 -1.2(WA)108 535.2 S
(RNING: These are just some hacks to try out some ideas.)1.2 E F1(-F)108
552 Q(--victim string)108 568.8 Q F0 1.016
(Set the speci\214ed string as a victim string.)144 580.8 R(An)6.016 E
3.516(yu)-.15 G 1.017
(ri that contains this string is declared a victim.)-3.516 F(Ho)144
592.8 Q 3.584(wi)-.25 G 3.584(ti)-3.584 G 3.584(sv)-3.584 G 1.084
(ictimized depends on the v)-3.584 F 1.083
(alue used in the --victim-skip option.)-.25 F 1.083
(If the --victim-skip)6.083 F(option is not set there is no af)144 604.8
Q(fect on the speci\214ed victim \214le.)-.25 E F1(--victim-skip N)108
633.6 Q F0 .007(If N is > 0, then writes to the client sock)144 645.6 R
.007(et will be skipped N-1 times.)-.1 F .008(The idea is to slo)5.007 F
2.508(wd)-.25 G -.25(ow)-2.508 G 2.508(nt).25 G(he)-2.508 E .658
(response to an)144 657.6 R 3.157(yc)-.15 G .657
(lient that requests the speci\214ed victim \214le.)-3.157 F
(Speci\214cally)5.657 E 3.157(,w)-.65 G .657(hen the e)-3.157 F -.15(ve)
-.25 G .657(nt mecha-).15 F 1.128(nism indicates that the sock)144 669.6
R 1.128(et is ready for writing the write will just be skipped.)-.1 F
1.129(Note that this)6.129 F .514(probably w)144 681.6 R(on')-.1 E 3.014
(tw)-.18 G .514(ork with epoll if you are using edge triggered e)-3.114
F -.15(ve)-.25 G .513(nts. Also note that the amount).15 F .106(of slo)
144 693.6 R 2.606(wd)-.25 G -.25(ow)-2.606 G 2.606(nd).25 G .106
(epends on the number of other sock)-2.606 F .107
(ets that are ready for processing when the e)-.1 F -.15(ve)-.25 G(nt)
.15 E(mechanisim returns and the amount of processing required for each\
 of those e)144 705.6 Q -.15(ve)-.25 G(nts.).15 E 1.05
(If N = -1 then no writes are skipped b)144 729.6 R 1.05
(ut instead the serv)-.2 F 1.05
(er uses madvise after it has written the)-.15 F(userv)72 768 Q(er)-.15
E 146.04(-0.8.0 30)-.2 F(January 2011)2.5 E(16)190.95 E 0 Cg EP
%%Page: 17 17
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E(bytes to advise the operating system that it doesn')144
84 Q 2.5(tn)-.18 G(eed the bytes for this \214le an)-2.5 E(ymore.)-.15 E
/F1 10/Times-Bold@0 SF(--cache-miss-skip N)108 112.8 Q F0 1.563
(This is speci\214c to BSD \(possibly FreeBSD\).)144 124.8 R 1.564
(If N is > 0, then send\214le calls that w)6.563 F 1.564(ould block)-.1
F .342(because of disk I/O \(i.e., a \214le cache miss\) will be skippe\
d N times.)144 136.8 R .341(The idea is to slo)5.341 F 2.841(wd)-.25 G
-.25(ow)-2.841 G 2.841(nt).25 G(he)-2.841 E .251(response to an)144
148.8 R 2.751(yc)-.15 G .251
(lient that requests a \214le that might require disk I/O.)-2.751 F .251
(In theory this may permit us)5.251 F .32(to f)144 160.8 R -.2(avo)-.1 G
.32(ur requests for \214les that are in the \214le cache.).2 F
(Speci\214cally)5.32 E 2.82(,w)-.65 G .32(hen the e)-2.82 F -.15(ve)-.25
G .32(nt mechanism indi-).15 F 4.03(cates that the sock)144 172.8 R 4.03
(et is ready for writing the send\214le call will be made with the \215\
ag)-.1 F(SF_NODISKIO.)144 184.8 Q 1.971(Currently this isn')144 208.8 R
4.471(ti)-.18 G 1.971(ntended to be used in conjunction with --victim a\
nd --victim-skip \(i.e., I)-4.471 F(ha)144 220.8 Q -.15(ve)-.2 G(n').15
E 2.5(tt)-.18 G(hought through the beha)-2.5 E(viour\).)-.2 E/F2 10.95
/Times-Bold@0 SF(OUTPUT)72 249.6 Q F0
(This section describes portions of the output produced during the e)108
261.6 Q -.15(xe)-.15 G(cution of the).15 E F1(user)2.5 E -.1(ve)-.1 G -1
(r.).1 G F0 .072(The \214rst portion of output lists the program name a\
nd the command line parameters.)108 290.4 R .072(The second portion of)
5.072 F .332(output lists the setting of all options.)108 302.4 R .332
(This is the most reliable w)5.332 F .332(ay to \214nd out the def)-.1 F
.332(ault settings for some)-.1 F(options.)108 314.4 Q(The ne)108 343.2
Q(xt tw)-.15 E 2.5(os)-.1 G
(ections identify operating system and per user or process limits.)-2.5
E .634(The remainder of the output pro)108 360 R .635
(vides more information about def)-.15 F .635(ault settings of v)-.1 F
.635(arious parameters and a)-.25 F(lar)108 372 Q
(ge number of statistics about the e)-.18 E -.15(xe)-.15 G
(cution of the serv).15 E(er)-.15 E(.)-.55 E F2 -.548(AU)72 400.8 S
(THORS).548 E F1(user)108 412.8 Q -.1(ve)-.1 G(r).1 E F0 -.1(wa)3.615 G
3.615(sd).1 G -2.15 -.25(ev e)-3.615 H 1.115(loped by T).25 F 1.115
(im Brecht by starting with some micro web serv)-.35 F 1.114
(ers originally de)-.15 F -.15(ve)-.25 G 1.114(loped by).15 F 1.361
(Abhishek Chandra and Da)108 424.8 R 1.361(vid Mosber)-.2 F 1.361
(ger [Chandra-2001].)-.18 F(Da)6.361 E 1.361(vid P)-.2 F 1.361
(ariag contrib)-.15 F 1.361(uted the current caching)-.2 F 2.5
(engine. One)108 436.8 R(of the hash functions is from Bob Jenkin')2.5 E
2.5(sw)-.55 G(eb site.)-2.5 E F2 -.11(BU)72 465.6 S(GS).11 E F0
(Probably man)108 477.6 Q -.65(y.)-.15 G(NO)108 501.6 Q .407(TE: v)-.4 F
.407(ery fe)-.15 F 2.906(wi)-.25 G 2.906(fa)-2.906 G .706 -.15(ny c)
-2.906 H .406(hecks are performed to see if the combination of options \
being used mak).15 F .406(es sense.)-.1 F -.15(Fo)108 513.6 S 2.5(re).15
G(xample, the beha)-2.65 E(viour from using both the)-.2 E F1
(--select-loop)2.5 E F0(and)2.5 E F1(--send-loop)2.5 E F0
(options is unde\214ned.)2.5 E(Al)108 537.6 Q -.1(wa)-.1 G 1.742
(ys be sure to double-check results and don').1 F 4.242(tf)-.18 G 1.742
(all pre)-4.342 F 4.242(yt)-.15 G 4.242(om)-4.242 G 1.743
(easuring client-performance instead of)-4.242 F(serv)108 549.6 Q
(er performance!)-.15 E(The tool)5 E F1(httperf)2.5 E F0(is v)2.5 E
(ery good at generating loads.)-.15 E(Man)108 573.6 Q 3.437(yo)-.15 G
3.437(ft)-3.437 G .937(he single letter options are dif)-3.437 F .936
(\214cult to relate to an)-.25 F .936
(ything meaningful. As the number of options)-.15 F(gre)108 585.6 Q 2.5
(wIe)-.25 G -.15(ve)-2.75 G
(ntually started to run out of alphabet and added long options.).15 E
.903(The user)108 609.6 R(-interf)-.2 E .903
(ace de\214nitely could be impro)-.1 F -.15(ve)-.15 G 3.403(d. A).15 F
.904(simple con\214guration \214le might be more suitable than)3.404 F
(the man)108 621.6 Q 2.5(yc)-.15 G(ommand-line options.)-2.5 E F2
(REFERENCES)72 650.4 Q F0([Shukla-2006])108 662.4 Q .003
(Amol Shukla and T)193 662.4 R .003
(im Brecht, TCP Connection Management Mechanisms for Impro)-.35 F(v-)
-.15 E 1.521(ing Internet Serv)193 674.4 R 1.522
(er Performance, First IEEE W)-.15 F 1.522(orkshop on W)-.8 F 1.522
(eb Systems and T)-.8 F(ech-)-.7 E(nologies \(HotW)193 686.4 Q
(eb 2006\), Boston, MA, No)-.8 E -.15(ve)-.15 G(mber).15 E 2.5(,2)-.4 G
(006.)-2.5 E([Brecht-2006])108 715.2 Q -.35(Ti)193 715.2 S 4.606(mB).35
G 2.106(recht, G. \(John\) Janakiraman, Brian L)-4.606 F 2.106(ynn, V)
-.55 F 2.106(ikram Saletore, Y)-.6 F 2.106(oshio T)-1.1 F(urner)-.45 E
(,)-.4 E(Ev)193 727.2 Q 7.045(aluating Netw)-.25 F 7.045
(ork Processing Ef)-.1 F(\214cienc)-.25 E 9.546(yw)-.15 G 7.046
(ith Processor P)-9.546 F 7.046(artitioning and)-.15 F(userv)72 768 Q
(er)-.15 E 146.04(-0.8.0 30)-.2 F(January 2011)2.5 E(17)190.95 E 0 Cg EP
%%Page: 18 18
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(userv)72 48 Q 383.62(er\(1\) userv)-.15 F
(er\(1\))-.15 E(Asynchronous I/O, Proceedings of EuroSys 2006, Leuv)193
84 Q(en, Belgium, April 2006.)-.15 E([Gammo-2004])108 112.8 Q .095
(Louay Gammo, T)193 112.8 R .095(im Brecht, Amol Shukla, and Da)-.35 F
.094(vid P)-.2 F .094(ariag, Comparing and Ev)-.15 F(aluat-)-.25 E
(ing epoll, select, and poll Ev)193 124.8 Q(ent Mechanisms, Otta)-.15 E
.2 -.1(wa L)-.15 H(inux Symposium, July).1 E 2.5(,2)-.65 G(004.)-2.5 E
([Brecht-2004])108 153.6 Q -.35(Ti)193 153.6 S 3.279(mB).35 G .779
(recht, Louay Gammo, and Da)-3.279 F .779(vid P)-.2 F .779
(ariag, accept\(\)able Strate)-.15 F .779(gies for Impro)-.15 F(ving)
-.15 E -.8(We)193 165.6 S 5.504(bS).8 G(erv)-5.504 E 3.004
(er Performance, 2004 USENIX Annual T)-.15 F 3.003
(echnical Conference: General)-.7 F -.35(Tr)193 177.6 S
(ack, Boston, June, 2004.).35 E([Brecht-2001])108 206.4 Q -.35(Ti)193
206.4 S 3.37(mB).35 G .87(recht and Michal Ostro)-3.37 F .87
(wski, Exploring the Performance of Select-based Inter)-.25 F(-)-.2 E
(net Serv)193 218.4 Q(ers, HP Labs T)-.15 E
(echnical Report HPL-2001-314, No)-.7 E -.15(ve)-.15 G(mber).15 E 2.5
(,2)-.4 G(001.)-2.5 E([Chandra-2001])108 247.2 Q .167
(A. Chandra and D. Mosber)193 247.2 R(ger)-.18 E 2.667(,S)-.4 G .167
(calability of Linux Ev)-2.667 F .167(ent-Dispatch Mechanisms, Pro-)-.15
F(ceedings of the 2001 USENIX Annual T)193 259.2 Q
(echnical Conference, June 2001.)-.7 E([Ostro)108 288 Q(wski-2000])-.25
E 2.312(Michal Ostro)193 288 R 2.312(wski, A Mechanism for Scalable Ev)
-.25 F 2.312(ent Noti\214cation and Deli)-.15 F -.15(ve)-.25 G 2.312
(ry in).15 F 2.089
(Linux, M.Math Thesis, Department of Computer Science, Uni)193 300 R
-.15(ve)-.25 G 2.089(rsity of W).15 F(aterloo,)-.8 E(No)193 312 Q -.15
(ve)-.15 G(mber).15 E 2.5(,2)-.4 G(000.)-2.5 E(userv)72 768 Q(er)-.15 E
146.04(-0.8.0 30)-.2 F(January 2011)2.5 E(18)190.95 E 0 Cg EP
%%Trailer
end
%%EOF
